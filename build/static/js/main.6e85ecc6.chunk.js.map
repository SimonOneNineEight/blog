{"version":3,"sources":["contexts.js","utilis.js","components/Header/Header.js","config.js","WebApi.js","pages/LoginPage/LoginPage.js","components/common/markdown.js","redux/reducers/postReducer.js","components/Navbar/Navbar.js","components/Pagination/Pagination.js","pages/HomePage/HomePage.js","pages/AboutPage/AboutPage.js","pages/PostPage/PostPage.js","pages/NewPostPage/NewPostPage.js","pages/RegisterPage/RegisterPage.js","components/App/App.js","reportWebVitals.js","redux/reducers/userReducer.js","redux/store.js","index.js"],"names":["AuthContext","createContext","TOKEN_NAME","setTokenToLocalStorage","token","localStorage","setItem","HeaderWrapper","styled","div","HeaderFunctionWrapper","SiteTitleWrapper","SiteTitle","Link","HashTagWrapper","HashTag","FunctionWrapper","HeaderFunction","props","$active","LoginWrapper","Login","Logout","Header","useContext","user","setUser","location","useLocation","history","useHistory","to","onClick","pathname","push","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","database","BASE_URL","getMe","auth","currentUser","LoginBox","LoginDetail","form","LoginBoxTitle","LoginInputFieldWrapper","LoginInputFieldTitle","LoginInputField","input","LoginSubmit","ErrorMessage","EmptyDiv","LoginUsername","username","setUsername","type","placeholder","value","onChange","e","target","LoginPassword","password","setPassword","LoginPage","useState","errorMessage","setErrorMessage","onSubmit","preventDefault","email","signInWithEmailAndPassword","catch","error","console","log","message","login","then","res","CodeBlock","language","style","tomorrow","showLineNumbers","customStyle","maxWidth","Markdown","source","renderers","code","linkTarget","postReducer","createSlice","name","initialState","isLoading","posts","postOnPage","reducers","setIsLoading","state","action","payload","setPosts","setPostOnPage","actions","getPost","id","dispatch","ref","once","snapShot","val","getPostById","post","getAllPost","postArr","Object","keys","forEach","unshift","title","content","createdAt","selectPosts","selectIsLoading","selectPostOnPage","NavbarWrapper","NavList","Nav","Navbar","useSelector","map","index","PaginationWrapper","PaginationDetail","PaginationButton","button","PagerWrapper","Page","PaginationInfo","Button","children","Pager","currentPage","setCurrentPage","pagination","page","Pagination","totalPage","defaultCurrentPage","HomePageWrapper","PostListWrapper","PostList","Post","PostCreatedAt","PostTitle","PostContent","HomePage","useDispatch","setTotalPage","setPagination","useEffect","slice","Math","ceil","length","Array","from","_","i","Date","toLocaleDateString","newPostOnPage","AboutMeWrapper","AboutMeBox","AboutMeContentWrapper","AboutMeTitle","AboutMeContent","AboutMeAvatar","AboutPage","about","setAbout","PostWrapper","PostPage","useParams","NewPostWrapper","NewPostBox","BoxTitle","NewPostDetail","NewPostInputWrapper","NewPostTitle","NewPostContent","textarea","NewPostSubmit","NewPostPreview","PreviewHeader","PreviewWrapper","PreviewTitle","NewPostPage","setTitle","setContent","now","newPost","RegisterWrapper","RegisterBox","RegisterDetail","RegisterBoxTitle","RegisterInputFieldWrapper","RegisterInputFieldTitle","RegisterInputField","RegisterSubmit","RegisterUsername","RegisterPassword","RegisterNickname","nickname","setNickname","fetch","method","headers","body","JSON","stringify","json","register","ok","data","window","back","PageWrapper","BodyWrapper","LoadingPage","App","Provider","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","userSlice","increment","decrement","incrementByAmount","reducer","combineReducers","postReduecer","users","userReducer","store","configureStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e85ecc6.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\n","const TOKEN_NAME = \"token\";\nexport const getTokenFromLocalStorage = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n\nexport const setTokenToLocalStorage = (token) => {\n  return localStorage.setItem(TOKEN_NAME, token);\n};\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { setTokenToLocalStorage } from \"../../utilis\";\n\nconst HeaderWrapper = styled.div`\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 72px;\n  text-align: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n`;\nconst HeaderFunctionWrapper = styled.div`\n  display: flex;\n`;\nconst SiteTitleWrapper = styled.div`\n  margin: 6px 20px;\n`;\nconst SiteTitle = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 28px;\n  font-weight: bold;\n  color: #6c6c6c;\n`;\nconst HashTagWrapper = styled.div`\n  display: flex;\n`;\nconst HashTag = styled.div`\n  font-size: 8px;\n  color: #9d9d9d;\n  & + & {\n    padding-left: 4px;\n  }\n`;\nconst FunctionWrapper = styled.div`\n  display: flex;\n  padding: 25px 20px;\n`;\nconst HeaderFunction = styled(Link)`\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n  ${(props) => props.$active && `font-weight: bold;`}\n`;\nconst LoginWrapper = styled.div`\n  display: flex;\n  padding: 25px 20px;\n`;\nconst Login = styled(Link)`\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n`;\nconst Logout = styled.div`\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n`;\n\nconst Header = () => {\n  const { user, setUser } = useContext(AuthContext);\n  const location = useLocation();\n  const history = useHistory();\n  const handleLogout = () => {\n    setTokenToLocalStorage(null);\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n  return (\n    <HeaderWrapper>\n      <HeaderFunctionWrapper>\n        <SiteTitleWrapper>\n          <SiteTitle to=\"/\">壹玖捌's Blog</SiteTitle>\n          <HashTagWrapper>\n            <HashTag>#工程師</HashTag>\n            <HashTag>#隨意聊</HashTag>\n          </HashTagWrapper>\n        </SiteTitleWrapper>\n        <FunctionWrapper>\n          <HeaderFunction to=\"/about\">關於我</HeaderFunction>\n          {user && <HeaderFunction to=\"/new-post\">新增文章</HeaderFunction>}\n        </FunctionWrapper>\n      </HeaderFunctionWrapper>\n      <LoginWrapper>\n        {!user && <Login to=\"/register\">註冊</Login>}\n        {!user && <Login to=\"/login\">登入</Login>}\n        {user && <Logout onClick={handleLogout}>登出</Logout>}\n      </LoginWrapper>\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n","import firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst config = {\n  apiKey: \"AIzaSyCCDNYPR00cGC3tBGq11Xrr4920vdgXAGc\",\n  authDomain: \"simon198-blog.firebaseapp.com\",\n  projectId: \"simon198-blog\",\n  storageBucket: \"simon198-blog.appspot.com\",\n  messagingSenderId: \"9042449024\",\n  appId: \"1:9042449024:web:b8fd1802ab355e47b30c65\",\n  measurementId: \"G-B61GH5ZNVL\",\n};\n\nfirebase.initializeApp(config);\nconst db = firebase.database();\nexport default db;\n","import firebase from \"firebase\";\nimport db from \"./config.js\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getAllPost = () => {\n  return db\n    .ref(\"/posts\")\n    .once(\"value\")\n    .then((snapShot) => snapShot.val());\n};\n\nexport const getPostById = (id) => {\n  console.log(\"Webapi\");\n  return db\n    .ref(`/posts/${id}`)\n    .once(\"value\")\n    .then((snapShot) => snapShot.val());\n};\n\nexport const login = (email, password) => {\n  return firebase\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .catch((error) => {\n      console.log(error.message);\n    });\n};\n\nexport const getMe = () => {\n  return firebase.auth().currentUser;\n};\n\nexport const register = (username, password, nickname) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const newPost = (title, content) => {\n  return db\n    .ref(`/posts`)\n    .push({\n      title,\n      content,\n      createdAt: Date.now(),\n    })\n    .then((res) => \"success\")\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nexport const getLimitedPosts = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_page=${page}&_limit=${limit}&_sort=createdAt&_order=desc`\n  ).then((res) => res.json());\n};\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { login, getMe } from \"../../WebApi\";\nimport { AuthContext } from \"../../contexts\";\n\nconst LoginWrapper = styled.div`\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n`;\nconst LoginBox = styled.div`\n  width: 400px;\n  height: 320px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n`;\nconst LoginDetail = styled.form`\n  padding: 28px 32px;\n`;\nconst LoginBoxTitle = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n`;\nconst LoginInputFieldWrapper = styled.div`\n  margin: 20px auto;\n  & + & {\n    margin: 0 auto;\n  }\n`;\nconst LoginInputFieldTitle = styled.div`\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n`;\nconst LoginInputField = styled.input`\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n`;\nconst LoginSubmit = styled.input`\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  margin-top: 20px;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n`;\nconst ErrorMessage = styled.div`\n  color: #ff2d2d;\n`;\nconst EmptyDiv = styled.div`\n  height: 22px;\n`;\nconst LoginUsername = ({ username, setUsername }) => {\n  return (\n    <LoginInputFieldWrapper>\n      <LoginInputFieldTitle>Username: </LoginInputFieldTitle>\n      <LoginInputField\n        type=\"text\"\n        placeholder=\"請輸入帳號\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n    </LoginInputFieldWrapper>\n  );\n};\nconst LoginPassword = ({ password, setPassword }) => {\n  return (\n    <LoginInputFieldWrapper>\n      <LoginInputFieldTitle>Password: </LoginInputFieldTitle>\n      <LoginInputField\n        type=\"password\"\n        placeholder=\"請輸入密碼\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </LoginInputFieldWrapper>\n  );\n};\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const history = useHistory();\n  const { setUser } = useContext(AuthContext);\n  const handleLoginSubmit = (e) => {\n    setErrorMessage(\"\");\n    e.preventDefault();\n    login(username, password).then((res) => {\n      if (!res.user) return setErrorMessage(\"fail to login\");\n      const user = getMe();\n      if (user) {\n        setUser(user);\n        return history.push(\"/\");\n      }\n    });\n  };\n  return (\n    <LoginWrapper>\n      <LoginBox>\n        <LoginDetail onSubmit={handleLoginSubmit}>\n          <LoginBoxTitle>登入</LoginBoxTitle>\n          <LoginUsername username={username} setUsername={setUsername} />\n          <LoginPassword password={password} setPassword={setPassword} />\n          {errorMessage ? (\n            <ErrorMessage>{errorMessage}</ErrorMessage>\n          ) : (\n            <EmptyDiv />\n          )}\n          <LoginSubmit type=\"submit\" />\n        </LoginDetail>\n      </LoginBox>\n    </LoginWrapper>\n  );\n}\n","import { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { tomorrow } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport ReactMarkdown from \"react-markdown\";\nimport React from \"react\";\n\nconst CodeBlock = ({ language, value }) => {\n  return (\n    <SyntaxHighlighter\n      language={language}\n      style={tomorrow}\n      showLineNumbers={true}\n      customStyle={{\n        maxWidth: \"80vw\",\n      }}\n    >\n      {value || \"\"}\n    </SyntaxHighlighter>\n  );\n};\n\nconst Markdown = ({ source }) => (\n  <ReactMarkdown\n    source={source}\n    renderers={{ code: CodeBlock }}\n    linkTarget=\"_blank\"\n  />\n);\n\nexport default Markdown;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { getPostById, getAllPost as getAllPostFromApi } from \"../../WebApi\";\n\nexport const postReducer = createSlice({\n  name: \"posts\",\n  initialState: {\n    isLoading: false,\n    posts: null,\n    postOnPage: null,\n  },\n  reducers: {\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    setPosts: (state, action) => {\n      state.posts = action.payload;\n    },\n    setPostOnPage: (state, action) => {\n      state.postOnPage = action.payload;\n    },\n  },\n});\n\nexport const { setIsLoading, setPosts, setPostOnPage } = postReducer.actions;\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched\nexport const getPost = (id) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  getPostById(id).then((post) => {\n    dispatch(setPostOnPage(post));\n    dispatch(setIsLoading(false));\n  });\n};\nexport const getAllPost = () => (dispatch) => {\n  dispatch(setIsLoading(true));\n  getAllPostFromApi().then((posts) => {\n    const postArr = [];\n    Object.keys(posts).forEach((post) => {\n      postArr.unshift({\n        id: post,\n        title: posts[post].title,\n        content: posts[post].content,\n        createdAt: posts[post].createdAt,\n      });\n    });\n    dispatch(setPosts(postArr));\n    dispatch(setIsLoading(false));\n  });\n};\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\nexport const selectPosts = (state) => state.posts.posts;\nexport const selectIsLoading = (state) => state.posts.isLoading;\nexport const selectPostOnPage = (state) => state.posts.postOnPage;\n\nexport default postReducer.reducer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectPosts } from \"../../redux/reducers/postReducer\";\n\nconst NavbarWrapper = styled.div`\n  width: 200px;\n  position: fixed;\n  left: 0;\n  top: 72px;\n  bottom: 0;\n`;\nconst NavList = styled.div`\n  padding: 36px 12px 0;\n`;\nconst Nav = styled(Link)`\n  font-size: 14px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  display: block;\n  & + & {\n    padding-top: 12px;\n  }\n`;\nconst Navbar = () => {\n  const posts = useSelector(selectPosts);\n  return (\n    <NavbarWrapper>\n      <NavList>\n        {posts &&\n          posts.map((post, index) => (\n            <Nav key={index} to={`/posts/${post.id}`}>\n              {post.title}\n            </Nav>\n          ))}\n      </NavList>\n    </NavbarWrapper>\n  );\n};\n\nexport default Navbar;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst PaginationWrapper = styled.div`\n  padding-top: 24px;\n`;\nconst PaginationDetail = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst PaginationButton = styled.button`\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n`;\nconst PagerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst Page = styled.button`\n  font-size: 16px;\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n  ${(props) =>\n    props.$active &&\n    `\n    font-size: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  `}\n`;\nconst PaginationInfo = styled.div`\n  padding-top: 12px;\n  font-size: 16px;\n  text-align: center;\n`;\nconst EmptyDiv = styled.div`\n  width: 22px;\n  height: 22px;\n`;\nconst Button = ({ onClick, children }) => {\n  return (\n    <PaginationButton type=\"button\" onClick={onClick}>\n      {children}\n    </PaginationButton>\n  );\n};\nconst Pager = ({ currentPage, setCurrentPage, pagination, onChange }) => {\n  return (\n    <PagerWrapper>\n      {pagination.map((page) => (\n        <Page\n          $active={currentPage === page}\n          onClick={() => {\n            setCurrentPage(page);\n            onChange(page);\n          }}\n        >\n          {page}\n        </Page>\n      ))}\n    </PagerWrapper>\n  );\n};\n\nconst Pagination = ({\n  totalPage,\n  defaultCurrentPage,\n  pagination,\n  onChange,\n}) => {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  return (\n    <PaginationWrapper>\n      <PaginationDetail>\n        {currentPage > 2 ? (\n          <Button\n            onClick={() => {\n              if (currentPage < 3) return;\n              setCurrentPage(1);\n              onChange(1);\n            }}\n          >\n            &lt;&lt;\n          </Button>\n        ) : (\n          <EmptyDiv />\n        )}\n        {currentPage !== 1 ? (\n          <Button\n            onClick={() => {\n              if (currentPage < 2) return;\n              setCurrentPage(currentPage - 1);\n              onChange(currentPage - 1);\n            }}\n          >\n            &lt;\n          </Button>\n        ) : (\n          <EmptyDiv />\n        )}\n        <Pager\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n          pagination={pagination}\n          onChange={onChange}\n        />\n        {currentPage !== totalPage ? (\n          <Button\n            onClick={() => {\n              if (currentPage >= totalPage) return;\n              setCurrentPage(currentPage + 1);\n              onChange(currentPage + 1);\n            }}\n          >\n            &gt;\n          </Button>\n        ) : (\n          <EmptyDiv />\n        )}\n        {currentPage < totalPage - 1 ? (\n          <Button\n            onClick={() => {\n              setCurrentPage(totalPage);\n              onChange(totalPage);\n            }}\n          >\n            &gt;&gt;\n          </Button>\n        ) : (\n          <EmptyDiv />\n        )}\n      </PaginationDetail>\n      <PaginationInfo>共 {totalPage} 頁</PaginationInfo>\n    </PaginationWrapper>\n  );\n};\n\nexport default Pagination;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Markdown from \"../../components/common/markdown\";\nimport styled from \"styled-components\";\nimport Navbar from \"../../components/Navbar\";\nimport Pagination from \"../../components/Pagination\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getAllPost,\n  selectPosts,\n  setIsLoading,\n} from \"../../redux/reducers/postReducer\";\n\nconst HomePageWrapper = styled.div`\n  width: 680px;\n  padding: 20px 20px 20px 108px;\n`;\nconst PostListWrapper = styled.div``;\nconst PostList = styled.div`\n  min-height: 75vh;\n`;\nconst Post = styled.div`\n  width: 100%;\n  padding-bottom: 32px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  & + & {\n    padding-top: 24px;\n  }\n`;\nconst PostCreatedAt = styled.div`\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n`;\nconst PostTitle = styled(Link)`\n  cursor: pointer;\n  text-decoration: none;\n  color: #000000;\n  font-size: 32px;\n  font-weight: bold;\n  padding-bottom: 12px;\n`;\nconst PostContent = styled(Markdown)`\n  font-size: 14px;\n  max-height: 100px;\n  overflow: hidden;\n`;\n\nexport default function HomePage() {\n  const dispatch = useDispatch();\n  const posts = useSelector(selectPosts);\n  const defaultCurrentPage = 1;\n  const pageSize = 5;\n  const [postOnPage, setPostOnPage] = useState([]);\n  const [totalPage, setTotalPage] = useState();\n  const [pagination, setPagination] = useState([]);\n\n  useEffect(() => {\n    dispatch(getAllPost());\n    if (posts) {\n      setPostOnPage(posts.slice(0, pageSize));\n      setTotalPage(Math.ceil(posts.length / pageSize));\n      setPagination(Array.from({ length: totalPage }).map((_, i) => i + 1));\n      dispatch(setIsLoading(false));\n    }\n  }, [totalPage, dispatch, posts]);\n\n  return (\n    <HomePageWrapper>\n      <Navbar />\n      <PostListWrapper>\n        <PostList>\n          {postOnPage.map((post) => (\n            <Post key={post.id}>\n              <PostCreatedAt>\n                {new Date(post.createdAt).toLocaleDateString()}\n              </PostCreatedAt>\n              <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\n              <PostContent source={post.content} />\n            </Post>\n          ))}\n        </PostList>\n        <Pagination\n          totalPage={totalPage}\n          defaultCurrentPage={defaultCurrentPage}\n          pagination={pagination}\n          onChange={(currentPage) => {\n            const newPostOnPage = posts.slice(\n              (currentPage - 1) * 5,\n              currentPage * 5\n            );\n            setPostOnPage(newPostOnPage);\n          }}\n        />\n      </PostListWrapper>\n    </HomePageWrapper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport db from \"../../config\";\n\nconst AboutMeWrapper = styled.div`\n  margin-top: 64px;\n`;\nconst AboutMeBox = styled.div`\n  display: flex;\n  width: 600px;\n  height: 233px;\n`;\nconst AboutMeContentWrapper = styled.div`\n  width: 400px;\n  padding: 16px 0;\n  margin: 0 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n`;\nconst AboutMeTitle = styled.div`\n  color: #5b5b5b;\n  font-size: 28px;\n  font-weight: bold;\n  padding-bottom: 24px;\n`;\nconst AboutMeContent = styled.div`\n  color: #5b5b5b;\n  font-size: 16px;\n`;\nconst AboutMeAvatar = styled.div`\n  width: 200px;\n  height: 200px;\n  background-color: black;\n  padding: 16px;\n`;\nexport default function AboutPage() {\n  const [about, setAbout] = useState(null);\n  useEffect(() => {\n    db.ref(\"/about\")\n      .once(\"value\")\n      .then((snapShot) => snapShot.val())\n      .then((value) => setAbout(value));\n  });\n  return (\n    <AboutMeWrapper>\n      {about && (\n        <AboutMeBox>\n          <AboutMeContentWrapper>\n            <AboutMeTitle>{about.name}</AboutMeTitle>\n            <AboutMeContent>{about.content}</AboutMeContent>\n          </AboutMeContentWrapper>\n          <AboutMeAvatar />\n        </AboutMeBox>\n      )}\n    </AboutMeWrapper>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Markdown from \"../../components/common/markdown\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPost, selectPostOnPage } from \"../../redux/reducers/postReducer\";\n\nconst PostWrapper = styled.div`\n  padding: 24px 200px;\n`;\n\nconst PostTitle = styled.div`\n  font-size: 36px;\n  font-weight: bold;\n`;\nconst PostCreatedAt = styled.div`\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n`;\nconst PostContent = styled(Markdown)`\n  padding-top: 12px;\n  color: #5b5b5b;\n  font-size: 16px;\n`;\nexport default function PostPage() {\n  const dispatch = useDispatch();\n  const post = useSelector(selectPostOnPage);\n  const { id } = useParams();\n  useEffect(() => {\n    dispatch(getPost(id));\n  }, [id, dispatch]);\n  console.log(post);\n  return (\n    <>\n      {post && (\n        <PostWrapper>\n          <PostTitle>{post.title}</PostTitle>\n          <PostCreatedAt>\n            {new Date(post.createdAt).toLocaleDateString()}\n          </PostCreatedAt>\n          <PostContent source={post.content} />\n        </PostWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { newPost } from \"../../WebApi\";\nimport Markdown from \"../../components/common/markdown\";\n\nconst NewPostWrapper = styled.div``;\nconst NewPostBox = styled.form`\n  display: flex;\n`;\nconst BoxTitle = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 28px;\n`;\n\nconst NewPostDetail = styled.div`\n  width: 50vw;\n  height: 100%;\n  min-height: 200vh;\n  border: 0;\n  background-color: #272727;\n  color: #e0e0e0;\n`;\nconst NewPostInputWrapper = styled.div`\n  padding: 15px 0;\n  height: 100%;\n`;\nconst NewPostTitle = styled.input`\n  width: 100%;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 32px;\n  height: 40px;\n  padding: 0 10px;\n`;\nconst NewPostContent = styled.textarea`\n  width: 100%;\n  min-height: 100vh;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 10px 10px 0;\n`;\nconst NewPostSubmit = styled.input`\n  position: absolute;\n  width: 60px;\n  height: 28px;\n  font-size: 18px;\n  background-color: #0080ff;\n  color: #e0e0e0;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  top: 10px;\n  right: 12px;\n  border-radius: 4px;\n`;\nconst ErrorMessage = styled.div`\n  color: #ff2d2d;\n`;\nconst EmptyDiv = styled.div`\n  height: 22px;\n`;\nconst NewPostPreview = styled.div`\n  width: 50vw;\n`;\nconst PreviewHeader = styled.div`\n  position: relative;\n`;\nconst PreviewWrapper = styled.div`\n  padding: 12px;\n`;\nconst PreviewTitle = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n`;\nconst NewPostPage = () => {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  if (!user) return history.push(\"/\");\n  const handleNewPostSubmit = (e) => {\n    e.preventDefault();\n    if (!title) return setErrorMessage(\"請輸入標題！\");\n    newPost(title, content).then((res) => {\n      console.log(res);\n      if (res === \"success\") return history.push(\"/\");\n    });\n  };\n  return (\n    <NewPostWrapper>\n      <NewPostBox onSubmit={handleNewPostSubmit}>\n        <NewPostDetail>\n          <BoxTitle>新增文章</BoxTitle>\n          <NewPostInputWrapper>\n            <NewPostTitle\n              placeholder=\"請輸入文章標題\"\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n            <NewPostContent\n              placeholder=\"請輸入文章內容\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </NewPostInputWrapper>\n          {errorMessage ? (\n            <ErrorMessage>{errorMessage}</ErrorMessage>\n          ) : (\n            <EmptyDiv />\n          )}\n        </NewPostDetail>\n        <NewPostPreview>\n          <PreviewHeader>\n            <BoxTitle>文章預覽</BoxTitle>\n            <NewPostSubmit type=\"submit\" />\n          </PreviewHeader>\n          <PreviewWrapper>\n            <PreviewTitle>{title}</PreviewTitle>\n            <Markdown source={content}></Markdown>\n          </PreviewWrapper>\n        </NewPostPreview>\n      </NewPostBox>\n    </NewPostWrapper>\n  );\n};\n\nexport default NewPostPage;\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { getMe, register } from \"../../WebApi\";\nimport { setTokenToLocalStorage } from \"../../utilis\";\nimport { AuthContext } from \"../../contexts\";\n\nconst RegisterWrapper = styled.div`\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n`;\nconst RegisterBox = styled.div`\n  width: 400px;\n  height: 420px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n`;\nconst RegisterDetail = styled.form`\n  padding: 28px 32px;\n`;\nconst RegisterBoxTitle = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n`;\nconst RegisterInputFieldWrapper = styled.div`\n  margin: 20px auto;\n`;\nconst RegisterInputFieldTitle = styled.div`\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n`;\nconst RegisterInputField = styled.input`\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n`;\nconst RegisterSubmit = styled.input`\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n`;\nconst ErrorMessage = styled.div`\n  color: #ff2d2d;\n`;\nconst EmptyDiv = styled.div`\n  height: 22px;\n`;\nconst RegisterUsername = ({ username, setUsername }) => {\n  return (\n    <RegisterInputFieldWrapper>\n      <RegisterInputFieldTitle>Username: </RegisterInputFieldTitle>\n      <RegisterInputField\n        type=\"text\"\n        placeholder=\"請輸入帳號\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n    </RegisterInputFieldWrapper>\n  );\n};\nconst RegisterPassword = ({ password, setPassword }) => {\n  return (\n    <RegisterInputFieldWrapper>\n      <RegisterInputFieldTitle>Password: </RegisterInputFieldTitle>\n      <RegisterInputField\n        type=\"password\"\n        placeholder=\"請輸入密碼\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </RegisterInputFieldWrapper>\n  );\n};\nconst RegisterNickname = ({ nickname, setNickname }) => {\n  return (\n    <RegisterInputFieldWrapper>\n      <RegisterInputFieldTitle>Nickname: </RegisterInputFieldTitle>\n      <RegisterInputField\n        type=\"text\"\n        placeholder=\"請輸入暱稱\"\n        value={nickname}\n        onChange={(e) => setNickname(e.target.value)}\n      />\n    </RegisterInputFieldWrapper>\n  );\n};\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const { setUser } = useContext(AuthContext);\n  const handleRegisterSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n    if (!username || !password || !nickname)\n      return setErrorMessage(\"請輸入所有欄位\");\n    register(username, password, nickname).then((res) => {\n      console.log(res);\n      setTokenToLocalStorage(res.token);\n      getMe().then((user) => {\n        if (user.ok !== 1) {\n          setTokenToLocalStorage(null);\n          setErrorMessage(res.message);\n          return;\n        }\n        setUser(user.data);\n        window.history.back(-1);\n      });\n    });\n  };\n  return (\n    <RegisterWrapper>\n      <RegisterBox>\n        <RegisterDetail onSubmit={handleRegisterSubmit}>\n          <RegisterBoxTitle>註冊</RegisterBoxTitle>\n          <RegisterUsername username={username} setUsername={setUsername} />\n          <RegisterPassword password={password} setPassword={setPassword} />\n          <RegisterNickname nickname={nickname} setNickname={setNickname} />\n          {errorMessage ? (\n            <ErrorMessage>{errorMessage}</ErrorMessage>\n          ) : (\n            <EmptyDiv />\n          )}\n          <RegisterSubmit type=\"submit\" />\n        </RegisterDetail>\n      </RegisterBox>\n    </RegisterWrapper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"../Header\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport HomePage from \"../../pages/HomePage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport NewPostPage from \"../../pages/NewPostPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport { AuthContext } from \"../../contexts\";\nimport { getMe } from \"../../WebApi\";\nimport { useSelector } from \"react-redux\";\nimport { selectIsLoading } from \"../../redux/reducers/postReducer\";\n\nconst PageWrapper = styled.div`\n  margin: 0;\n  padding: 72px 0 0;\n`;\nconst BodyWrapper = styled.div`\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst LoadingPage = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #7b7b7b;\n  color: white;\n  font-size: 32px;\n  text-align: center;\n`;\nfunction App() {\n  const isLoading = useSelector(selectIsLoading);\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    setUser(getMe());\n  }, []);\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <PageWrapper>\n        <Router>\n          <Header />\n          <BodyWrapper>\n            {isLoading && <LoadingPage>Loading...</LoadingPage>}\n            <Switch>\n              <Route path=\"/about\">\n                <AboutPage />\n              </Route>\n              <Route path=\"/login\">\n                <LoginPage />\n              </Route>\n              <Route path=\"/register\">\n                <RegisterPage />\n              </Route>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route path=\"/posts/:id\">\n                <PostPage />\n              </Route>\n              <Route path=\"/new-post\">\n                <NewPostPage />\n              </Route>\n            </Switch>\n          </BodyWrapper>\n        </Router>\n      </PageWrapper>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    value: 0,\n  },\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = userSlice.actions;\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched\nexport const incrementAsync = (amount) => (dispatch) => {\n  setTimeout(() => {\n    dispatch(incrementByAmount(amount));\n  }, 1000);\n};\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\nexport const selectCount = (state) => state.users.value;\n\nexport default userSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport postReduecer from \"./reducers/postReducer\";\nimport userReducer from \"./reducers/userReducer\";\nconst reducer = combineReducers({\n  posts: postReduecer,\n  users: userReducer,\n});\nconst store = configureStore({\n  reducer,\n});\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}