(this.webpackJsonphw1=this.webpackJsonphw1||[]).push([[0],{441:function(n,t,e){"use strict";e.r(t);var r=e(3),c=e(2),i=e(48),o=e.n(i),a=e(11),u=e(4),s=e(5),d=e(17),b=e(12),j=Object(c.createContext)(null),f="token",x=function(n){return localStorage.setItem(f,n)};function p(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n"]);return p=function(){return n},n}function l(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n"]);return l=function(){return n},n}function O(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return O=function(){return n},n}function h(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n  ","\n"]);return h=function(){return n},n}function v(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return v=function(){return n},n}function g(){var n=Object(u.a)(["\n  font-size: 8px;\n  color: #9d9d9d;\n  & + & {\n    padding-left: 4px;\n  }\n"]);return g=function(){return n},n}function m(){var n=Object(u.a)(["\n  display: flex;\n"]);return m=function(){return n},n}function w(){var n=Object(u.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 28px;\n  font-weight: bold;\n  color: #6c6c6c;\n"]);return w=function(){return n},n}function y(){var n=Object(u.a)(["\n  margin: 6px 20px;\n"]);return y=function(){return n},n}function z(){var n=Object(u.a)(["\n  display: flex;\n"]);return z=function(){return n},n}function k(){var n=Object(u.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 72px;\n  text-align: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return k=function(){return n},n}var C=s.a.div(k()),S=s.a.div(z()),P=s.a.div(y()),L=Object(s.a)(d.b)(w()),A=s.a.div(m()),D=s.a.div(g()),I=s.a.div(v()),U=Object(s.a)(d.b)(h(),(function(n){return n.$active&&"font-weight: bold;"})),B=s.a.div(O()),E=Object(s.a)(d.b)(l()),N=s.a.div(p()),F=function(){var n=Object(c.useContext)(j),t=n.user,e=n.setUser,i=Object(b.g)(),o=Object(b.f)();return Object(r.jsxs)(C,{children:[Object(r.jsxs)(S,{children:[Object(r.jsxs)(P,{children:[Object(r.jsx)(L,{to:"/",children:"\u58f9\u7396\u634c's Blog"}),Object(r.jsxs)(A,{children:[Object(r.jsx)(D,{children:"#\u5de5\u7a0b\u5e2b"}),Object(r.jsx)(D,{children:"#\u96a8\u610f\u804a"})]})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(U,{to:"/about",children:"\u95dc\u65bc\u6211"}),t&&Object(r.jsx)(U,{to:"/new-post",children:"\u65b0\u589e\u6587\u7ae0"})]})]}),Object(r.jsxs)(B,{children:[!t&&Object(r.jsx)(E,{to:"/register",children:"\u8a3b\u518a"}),!t&&Object(r.jsx)(E,{to:"/login",children:"\u767b\u5165"}),t&&Object(r.jsx)(N,{onClick:function(){x(null),e(null),"/"!==i.pathname&&o.push("/")},children:"\u767b\u51fa"})]})]})},G=e(72),T=e(70);e(122);T.a.initializeApp({apiKey:"AIzaSyCCDNYPR00cGC3tBGq11Xrr4920vdgXAGc",authDomain:"simon198-blog.firebaseapp.com",projectId:"simon198-blog",storageBucket:"simon198-blog.appspot.com",messagingSenderId:"9042449024",appId:"1:9042449024:web:b8fd1802ab355e47b30c65",measurementId:"G-B61GH5ZNVL"});var J=T.a.database(),W="https://student-json-api.lidemy.me",$=function(){return G.a.auth().currentUser};function X(){var n=Object(u.a)(["\n  height: 22px;\n"]);return X=function(){return n},n}function q(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return q=function(){return n},n}function H(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  margin-top: 20px;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return H=function(){return n},n}function K(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return K=function(){return n},n}function M(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return M=function(){return n},n}function R(){var n=Object(u.a)(["\n  margin: 20px auto;\n  & + & {\n    margin: 0 auto;\n  }\n"]);return R=function(){return n},n}function V(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return V=function(){return n},n}function Y(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(u.a)(["\n  width: 400px;\n  height: 320px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return Z=function(){return n},n}function _(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return _=function(){return n},n}var Q=s.a.div(_()),nn=s.a.div(Z()),tn=s.a.form(Y()),en=s.a.div(V()),rn=s.a.div(R()),cn=s.a.div(M()),on=s.a.input(K()),an=s.a.input(H()),un=s.a.div(q()),sn=s.a.div(X()),dn=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(rn,{children:[Object(r.jsx)(cn,{children:"Username: "}),Object(r.jsx)(on,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},bn=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(rn,{children:[Object(r.jsx)(cn,{children:"Password: "}),Object(r.jsx)(on,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})};function jn(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],l=x[1],O=Object(b.f)(),h=Object(c.useContext)(j).setUser;return Object(r.jsx)(Q,{children:Object(r.jsx)(nn,{children:Object(r.jsxs)(tn,{onSubmit:function(n){l(""),n.preventDefault(),function(n,t){return G.a.auth().signInWithEmailAndPassword(n,t).catch((function(n){console.log(n.message)}))}(e,s).then((function(n){if(!n.user)return l("fail to login");var t=$();return t?(h(t),O.push("/")):void 0}))},children:[Object(r.jsx)(en,{children:"\u767b\u5165"}),Object(r.jsx)(dn,{username:e,setUsername:i}),Object(r.jsx)(bn,{password:s,setPassword:d}),p?Object(r.jsx)(un,{children:p}):Object(r.jsx)(sn,{}),Object(r.jsx)(an,{type:"submit"})]})})})}var fn=e(445),xn=e(444),pn=e(106),ln=e.n(pn),On=function(n){var t=n.language,e=n.value;return Object(r.jsx)(fn.a,{language:t,style:xn.a,showLineNumbers:!0,customStyle:{maxWidth:"80vw"},children:e||""})},hn=function(n){var t=n.source;return Object(r.jsx)(ln.a,{source:t,renderers:{code:On},linkTarget:"_blank"})},vn=e(22),gn=e(36),mn=Object(gn.b)({name:"posts",initialState:{isLoading:!1,posts:null,postOnPage:null},reducers:{setIsLoading:function(n,t){n.isLoading=t.payload},setPosts:function(n,t){n.posts=t.payload},setPostOnPage:function(n,t){n.postOnPage=t.payload}}}),wn=mn.actions,yn=wn.setIsLoading,zn=wn.setPosts,kn=wn.setPostOnPage,Cn=function(n){return function(t){t(yn(!0)),function(n){return console.log("Webapi"),J.ref("/posts/".concat(n)).once("value").then((function(n){return n.val()}))}(n).then((function(n){t(kn(n)),t(yn(!1))}))}},Sn=function(){return function(n){n(yn(!0)),J.ref("/posts").once("value").then((function(n){return n.val()})).then((function(t){var e=[];Object.keys(t).forEach((function(n){e.unshift({id:n,title:t[n].title,content:t[n].content,createdAt:t[n].createdAt})})),n(zn(e)),n(yn(!1))}))}},Pn=function(n){return n.posts.posts},Ln=function(n){return n.posts.isLoading},An=function(n){return n.posts.postOnPage},Dn=mn.reducer;function In(){var n=Object(u.a)(["\n  font-size: 14px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  display: block;\n  & + & {\n    padding-top: 12px;\n  }\n"]);return In=function(){return n},n}function Un(){var n=Object(u.a)(["\n  padding: 36px 12px 0;\n"]);return Un=function(){return n},n}function Bn(){var n=Object(u.a)(["\n  width: 200px;\n  position: fixed;\n  left: 0;\n  top: 72px;\n  bottom: 0;\n"]);return Bn=function(){return n},n}var En=s.a.div(Bn()),Nn=s.a.div(Un()),Fn=Object(s.a)(d.b)(In()),Gn=function(){var n=Object(vn.c)(Pn);return Object(r.jsx)(En,{children:Object(r.jsx)(Nn,{children:n&&n.map((function(n,t){return Object(r.jsx)(Fn,{to:"/posts/".concat(n.id),children:n.title},t)}))})})};function Tn(){var n=Object(u.a)(["\n  width: 22px;\n  height: 22px;\n"]);return Tn=function(){return n},n}function Jn(){var n=Object(u.a)(["\n  padding-top: 12px;\n  font-size: 16px;\n  text-align: center;\n"]);return Jn=function(){return n},n}function Wn(){var n=Object(u.a)(["\n  font-size: 16px;\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n  ","\n"]);return Wn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return $n=function(){return n},n}function Xn(){var n=Object(u.a)(["\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n"]);return Xn=function(){return n},n}function qn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return qn=function(){return n},n}function Hn(){var n=Object(u.a)(["\n  padding-top: 24px;\n"]);return Hn=function(){return n},n}var Kn=s.a.div(Hn()),Mn=s.a.div(qn()),Rn=s.a.button(Xn()),Vn=s.a.div($n()),Yn=s.a.button(Wn(),(function(n){return n.$active&&"\n    font-size: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  "})),Zn=s.a.div(Jn()),_n=s.a.div(Tn()),Qn=function(n){var t=n.onClick,e=n.children;return Object(r.jsx)(Rn,{type:"button",onClick:t,children:e})},nt=function(n){var t=n.currentPage,e=n.setCurrentPage,c=n.pagination,i=n.onChange;return Object(r.jsx)(Vn,{children:c.map((function(n){return Object(r.jsx)(Yn,{$active:t===n,onClick:function(){e(n),i(n)},children:n})}))})},tt=function(n){var t=n.totalPage,e=n.defaultCurrentPage,i=n.pagination,o=n.onChange,u=Object(c.useState)(e),s=Object(a.a)(u,2),d=s[0],b=s[1];return Object(r.jsxs)(Kn,{children:[Object(r.jsxs)(Mn,{children:[d>2?Object(r.jsx)(Qn,{onClick:function(){d<3||(b(1),o(1))},children:"<<"}):Object(r.jsx)(_n,{}),1!==d?Object(r.jsx)(Qn,{onClick:function(){d<2||(b(d-1),o(d-1))},children:"<"}):Object(r.jsx)(_n,{}),Object(r.jsx)(nt,{currentPage:d,setCurrentPage:b,pagination:i,onChange:o}),d!==t?Object(r.jsx)(Qn,{onClick:function(){d>=t||(b(d+1),o(d+1))},children:">"}):Object(r.jsx)(_n,{}),d<t-1?Object(r.jsx)(Qn,{onClick:function(){b(t),o(t)},children:">>"}):Object(r.jsx)(_n,{})]}),Object(r.jsxs)(Zn,{children:["\u5171 ",t," \u9801"]})]})};function et(){var n=Object(u.a)(["\n  font-size: 14px;\n  max-height: 100px;\n  overflow: hidden;\n"]);return et=function(){return n},n}function rt(){var n=Object(u.a)(["\n  cursor: pointer;\n  text-decoration: none;\n  color: #000000;\n  font-size: 32px;\n  font-weight: bold;\n  padding-bottom: 12px;\n"]);return rt=function(){return n},n}function ct(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return ct=function(){return n},n}function it(){var n=Object(u.a)(["\n  width: 100%;\n  padding-bottom: 32px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  & + & {\n    padding-top: 24px;\n  }\n"]);return it=function(){return n},n}function ot(){var n=Object(u.a)(["\n  min-height: 75vh;\n"]);return ot=function(){return n},n}function at(){var n=Object(u.a)([""]);return at=function(){return n},n}function ut(){var n=Object(u.a)(["\n  width: 680px;\n  padding: 20px 20px 20px 108px;\n"]);return ut=function(){return n},n}var st=s.a.div(ut()),dt=s.a.div(at()),bt=s.a.div(ot()),jt=s.a.div(it()),ft=s.a.div(ct()),xt=Object(s.a)(d.b)(rt()),pt=Object(s.a)(hn)(et());function lt(){var n=Object(vn.b)(),t=Object(vn.c)(Pn),e=Object(c.useState)([]),i=Object(a.a)(e,2),o=i[0],u=i[1],s=Object(c.useState)(),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)([]),x=Object(a.a)(f,2),p=x[0],l=x[1];return Object(c.useEffect)((function(){n(Sn()),t&&(u(t.slice(0,5)),j(Math.ceil(t.length/5)),l(Array.from({length:b}).map((function(n,t){return t+1}))),n(yn(!1)))}),[b,n,t]),Object(r.jsxs)(st,{children:[Object(r.jsx)(Gn,{}),Object(r.jsxs)(dt,{children:[Object(r.jsx)(bt,{children:o.map((function(n){return Object(r.jsxs)(jt,{children:[Object(r.jsx)(ft,{children:new Date(n.createdAt).toLocaleDateString()}),Object(r.jsx)(xt,{to:"/posts/".concat(n.id),children:n.title}),Object(r.jsx)(pt,{source:n.content})]},n.id)}))}),Object(r.jsx)(tt,{totalPage:b,defaultCurrentPage:1,pagination:p,onChange:function(n){var e=t.slice(5*(n-1),5*n);u(e)}})]})]})}function Ot(){var n=Object(u.a)(["\n  width: 200px;\n  height: 200px;\n  background-color: black;\n  padding: 16px;\n"]);return Ot=function(){return n},n}function ht(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return ht=function(){return n},n}function vt(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 28px;\n  font-weight: bold;\n  padding-bottom: 24px;\n"]);return vt=function(){return n},n}function gt(){var n=Object(u.a)(["\n  width: 400px;\n  padding: 16px 0;\n  margin: 0 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return gt=function(){return n},n}function mt(){var n=Object(u.a)(["\n  display: flex;\n  width: 600px;\n  height: 233px;\n"]);return mt=function(){return n},n}function wt(){var n=Object(u.a)(["\n  margin-top: 64px;\n"]);return wt=function(){return n},n}var yt=s.a.div(wt()),zt=s.a.div(mt()),kt=s.a.div(gt()),Ct=s.a.div(vt()),St=s.a.div(ht()),Pt=s.a.div(Ot());function Lt(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1];return Object(c.useEffect)((function(){J.ref("/about").once("value").then((function(n){return n.val()})).then((function(n){return i(n)}))})),Object(r.jsx)(yt,{children:e&&Object(r.jsxs)(zt,{children:[Object(r.jsxs)(kt,{children:[Object(r.jsx)(Ct,{children:e.name}),Object(r.jsx)(St,{children:e.content})]}),Object(r.jsx)(Pt,{})]})})}function At(){var n=Object(u.a)(["\n  padding-top: 12px;\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return At=function(){return n},n}function Dt(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return Dt=function(){return n},n}function It(){var n=Object(u.a)(["\n  font-size: 36px;\n  font-weight: bold;\n"]);return It=function(){return n},n}function Ut(){var n=Object(u.a)(["\n  padding: 24px 200px;\n"]);return Ut=function(){return n},n}var Bt=s.a.div(Ut()),Et=s.a.div(It()),Nt=s.a.div(Dt()),Ft=Object(s.a)(hn)(At());function Gt(){var n=Object(vn.b)(),t=Object(vn.c)(An),e=Object(b.h)().id;return Object(c.useEffect)((function(){n(Cn(e))}),[e,n]),console.log(t),Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsxs)(Bt,{children:[Object(r.jsx)(Et,{children:t.title}),Object(r.jsx)(Nt,{children:new Date(t.createdAt).toLocaleDateString()}),Object(r.jsx)(Ft,{source:t.content})]})})}function Tt(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n"]);return Tt=function(){return n},n}function Jt(){var n=Object(u.a)(["\n  padding: 12px;\n"]);return Jt=function(){return n},n}function Wt(){var n=Object(u.a)(["\n  position: relative;\n"]);return Wt=function(){return n},n}function $t(){var n=Object(u.a)(["\n  width: 50vw;\n"]);return $t=function(){return n},n}function Xt(){var n=Object(u.a)(["\n  height: 22px;\n"]);return Xt=function(){return n},n}function qt(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return qt=function(){return n},n}function Ht(){var n=Object(u.a)(["\n  position: absolute;\n  width: 60px;\n  height: 28px;\n  font-size: 18px;\n  background-color: #0080ff;\n  color: #e0e0e0;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  top: 10px;\n  right: 12px;\n  border-radius: 4px;\n"]);return Ht=function(){return n},n}function Kt(){var n=Object(u.a)(["\n  width: 100%;\n  min-height: 100vh;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 10px 10px 0;\n"]);return Kt=function(){return n},n}function Mt(){var n=Object(u.a)(["\n  width: 100%;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 32px;\n  height: 40px;\n  padding: 0 10px;\n"]);return Mt=function(){return n},n}function Rt(){var n=Object(u.a)(["\n  padding: 15px 0;\n  height: 100%;\n"]);return Rt=function(){return n},n}function Vt(){var n=Object(u.a)(["\n  width: 50vw;\n  height: 100%;\n  min-height: 200vh;\n  border: 0;\n  background-color: #272727;\n  color: #e0e0e0;\n"]);return Vt=function(){return n},n}function Yt(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 28px;\n"]);return Yt=function(){return n},n}function Zt(){var n=Object(u.a)(["\n  display: flex;\n"]);return Zt=function(){return n},n}function _t(){var n=Object(u.a)([""]);return _t=function(){return n},n}var Qt=s.a.div(_t()),ne=s.a.form(Zt()),te=s.a.div(Yt()),ee=s.a.div(Vt()),re=s.a.div(Rt()),ce=s.a.input(Mt()),ie=s.a.textarea(Kt()),oe=s.a.input(Ht()),ae=s.a.div(qt()),ue=s.a.div(Xt()),se=s.a.div($t()),de=s.a.div(Wt()),be=s.a.div(Jt()),je=s.a.div(Tt()),fe=function(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],l=x[1],O=Object(b.f)();if(!Object(c.useContext)(j).user)return O.push("/");return Object(r.jsx)(Qt,{children:Object(r.jsxs)(ne,{onSubmit:function(n){if(n.preventDefault(),!e)return l("\u8acb\u8f38\u5165\u6a19\u984c\uff01");(function(n,t){return J.ref("/posts").push({title:n,content:t,createdAt:Date.now()}).then((function(n){return"success"})).catch((function(n){console.log(n)}))})(e,s).then((function(n){if(console.log(n),"success"===n)return O.push("/")}))},children:[Object(r.jsxs)(ee,{children:[Object(r.jsx)(te,{children:"\u65b0\u589e\u6587\u7ae0"}),Object(r.jsxs)(re,{children:[Object(r.jsx)(ce,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u6a19\u984c",type:"text",value:e,onChange:function(n){return i(n.target.value)}}),Object(r.jsx)(ie,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",value:s,onChange:function(n){return d(n.target.value)}})]}),p?Object(r.jsx)(ae,{children:p}):Object(r.jsx)(ue,{})]}),Object(r.jsxs)(se,{children:[Object(r.jsxs)(de,{children:[Object(r.jsx)(te,{children:"\u6587\u7ae0\u9810\u89bd"}),Object(r.jsx)(oe,{type:"submit"})]}),Object(r.jsxs)(be,{children:[Object(r.jsx)(je,{children:e}),Object(r.jsx)(hn,{source:s})]})]})]})})};function xe(){var n=Object(u.a)(["\n  height: 22px;\n"]);return xe=function(){return n},n}function pe(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return pe=function(){return n},n}function le(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return le=function(){return n},n}function Oe(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return Oe=function(){return n},n}function he(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return he=function(){return n},n}function ve(){var n=Object(u.a)(["\n  margin: 20px auto;\n"]);return ve=function(){return n},n}function ge(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return ge=function(){return n},n}function me(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return me=function(){return n},n}function we(){var n=Object(u.a)(["\n  width: 400px;\n  height: 420px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return we=function(){return n},n}function ye(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return ye=function(){return n},n}var ze=s.a.div(ye()),ke=s.a.div(we()),Ce=s.a.form(me()),Se=s.a.div(ge()),Pe=s.a.div(ve()),Le=s.a.div(he()),Ae=s.a.input(Oe()),De=s.a.input(le()),Ie=s.a.div(pe()),Ue=s.a.div(xe()),Be=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(Pe,{children:[Object(r.jsx)(Le,{children:"Username: "}),Object(r.jsx)(Ae,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},Ee=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(Pe,{children:[Object(r.jsx)(Le,{children:"Password: "}),Object(r.jsx)(Ae,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})},Ne=function(n){var t=n.nickname,e=n.setNickname;return Object(r.jsxs)(Pe,{children:[Object(r.jsx)(Le,{children:"Nickname: "}),Object(r.jsx)(Ae,{type:"text",placeholder:"\u8acb\u8f38\u5165\u66b1\u7a31",value:t,onChange:function(n){return e(n.target.value)}})]})};function Fe(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],b=Object(c.useState)(""),f=Object(a.a)(b,2),p=f[0],l=f[1],O=Object(c.useState)(""),h=Object(a.a)(O,2),v=h[0],g=h[1],m=Object(c.useContext)(j).setUser;return Object(r.jsx)(ze,{children:Object(r.jsx)(ke,{children:Object(r.jsxs)(Ce,{onSubmit:function(n){if(n.preventDefault(),g(""),!e||!s||!p)return g("\u8acb\u8f38\u5165\u6240\u6709\u6b04\u4f4d");(function(n,t,e){return fetch("".concat(W,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:e,username:n,password:t})}).then((function(n){return n.json()}))})(e,s,p).then((function(n){console.log(n),x(n.token),$().then((function(t){if(1!==t.ok)return x(null),void g(n.message);m(t.data),window.history.back(-1)}))}))},children:[Object(r.jsx)(Se,{children:"\u8a3b\u518a"}),Object(r.jsx)(Be,{username:e,setUsername:i}),Object(r.jsx)(Ee,{password:s,setPassword:d}),Object(r.jsx)(Ne,{nickname:p,setNickname:l}),v?Object(r.jsx)(Ie,{children:v}):Object(r.jsx)(Ue,{}),Object(r.jsx)(De,{type:"submit"})]})})})}function Ge(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #7b7b7b;\n  color: white;\n  font-size: 32px;\n  text-align: center;\n"]);return Ge=function(){return n},n}function Te(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Te=function(){return n},n}function Je(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 72px 0 0;\n"]);return Je=function(){return n},n}var We=s.a.div(Je()),$e=s.a.div(Te()),Xe=s.a.div(Ge());var qe=function(){var n=Object(vn.c)(Ln),t=Object(c.useState)(null),e=Object(a.a)(t,2),i=e[0],o=e[1];return Object(c.useEffect)((function(){o($())}),[]),Object(r.jsx)(j.Provider,{value:{user:i,setUser:o},children:Object(r.jsx)(We,{children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)($e,{children:[n&&Object(r.jsx)(Xe,{children:"Loading..."}),Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{path:"/about",children:Object(r.jsx)(Lt,{})}),Object(r.jsx)(b.a,{path:"/login",children:Object(r.jsx)(jn,{})}),Object(r.jsx)(b.a,{path:"/register",children:Object(r.jsx)(Fe,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/",children:Object(r.jsx)(lt,{})}),Object(r.jsx)(b.a,{path:"/posts/:id",children:Object(r.jsx)(Gt,{})}),Object(r.jsx)(b.a,{path:"/new-post",children:Object(r.jsx)(fe,{})})]})]})]})})})},He=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,446)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))},Ke=e(18),Me=Object(gn.b)({name:"users",initialState:{value:0},reducers:{increment:function(n){n.value+=1}}}),Re=Me.actions,Ve=(Re.increment,Re.decrement,Re.incrementByAmount,Me.reducer),Ye=Object(Ke.c)({posts:Dn,users:Ve}),Ze=Object(gn.a)({reducer:Ye});o.a.render(Object(r.jsx)(vn.a,{store:Ze,children:Object(r.jsx)(qe,{})}),document.getElementById("root")),He()}},[[441,1,2]]]);
//# sourceMappingURL=main.6e85ecc6.chunk.js.map