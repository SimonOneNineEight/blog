(this.webpackJsonphw1=this.webpackJsonphw1||[]).push([[0],{35:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),i=e(20),o=e.n(i),a=e(4),u=e(2),d=e(3),s=e(9),b=e(5),j=Object(c.createContext)(null),x="token",f=function(){return localStorage.getItem(x)},p=function(n){return localStorage.setItem(x,n)};function l(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n"]);return l=function(){return n},n}function O(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n"]);return O=function(){return n},n}function h(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return h=function(){return n},n}function v(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n  ","\n"]);return v=function(){return n},n}function g(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return g=function(){return n},n}function m(){var n=Object(u.a)(["\n  font-size: 8px;\n  color: #9d9d9d;\n  & + & {\n    padding-left: 4px;\n  }\n"]);return m=function(){return n},n}function w(){var n=Object(u.a)(["\n  display: flex;\n"]);return w=function(){return n},n}function y(){var n=Object(u.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 28px;\n  font-weight: bold;\n  color: #6c6c6c;\n"]);return y=function(){return n},n}function z(){var n=Object(u.a)(["\n  margin: 6px 20px;\n"]);return z=function(){return n},n}function k(){var n=Object(u.a)(["\n  display: flex;\n"]);return k=function(){return n},n}function C(){var n=Object(u.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 72px;\n  text-align: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return C=function(){return n},n}var S=d.a.div(C()),P=d.a.div(k()),U=d.a.div(z()),D=Object(d.a)(s.b)(y()),N=d.a.div(w()),J=d.a.div(m()),T=d.a.div(g()),A=Object(d.a)(s.b)(v(),(function(n){return n.$active&&"font-weight: bold;"})),B=d.a.div(h()),E=Object(d.a)(s.b)(O()),F=d.a.div(l()),I=function(){var n=Object(c.useContext)(j),t=n.user,e=n.setUser,i=Object(b.g)(),o=Object(b.f)();return Object(r.jsxs)(S,{children:[Object(r.jsxs)(P,{children:[Object(r.jsxs)(U,{children:[Object(r.jsx)(D,{to:"/",children:"\u58f9\u7396\u634c's Blog"}),Object(r.jsxs)(N,{children:[Object(r.jsx)(J,{children:"#\u5de5\u7a0b\u5e2b"}),Object(r.jsx)(J,{children:"#\u96a8\u610f\u804a"})]})]}),Object(r.jsxs)(T,{children:[Object(r.jsx)(A,{to:"/about",children:"\u95dc\u65bc\u6211"}),t&&Object(r.jsx)(A,{to:"/new-post",children:"\u65b0\u589e\u6587\u7ae0"})]})]}),Object(r.jsxs)(B,{children:[!t&&Object(r.jsx)(E,{to:"/register",children:"\u8a3b\u518a"}),!t&&Object(r.jsx)(E,{to:"/login",children:"\u767b\u5165"}),t&&Object(r.jsx)(F,{onClick:function(){p(null),e(null),"/"!==i.pathname&&o.push("/")},children:"\u767b\u51fa"})]})]})},L="https://student-json-api.lidemy.me",$=function(){var n=f();return fetch("".concat(L,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function M(){var n=Object(u.a)(["\n  height: 22px;\n"]);return M=function(){return n},n}function _(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return _=function(){return n},n}function R(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  margin-top: 20px;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return R=function(){return n},n}function q(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return q=function(){return n},n}function G(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return G=function(){return n},n}function H(){var n=Object(u.a)(["\n  margin: 20px auto;\n  & + & {\n    margin: 0 auto;\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return K=function(){return n},n}function Q(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return Q=function(){return n},n}function V(){var n=Object(u.a)(["\n  width: 400px;\n  height: 320px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return V=function(){return n},n}function W(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return W=function(){return n},n}var X=d.a.div(W()),Y=d.a.div(V()),Z=d.a.form(Q()),nn=d.a.div(K()),tn=d.a.div(H()),en=d.a.div(G()),rn=d.a.input(q()),cn=d.a.input(R()),on=d.a.div(_()),an=d.a.div(M()),un=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(tn,{children:[Object(r.jsx)(en,{children:"Username: "}),Object(r.jsx)(rn,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},dn=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(tn,{children:[Object(r.jsx)(en,{children:"Password: "}),Object(r.jsx)(rn,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})};function sn(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),d=u[0],s=u[1],b=Object(c.useState)(""),x=Object(a.a)(b,2),f=x[0],l=x[1],O=Object(c.useContext)(j).setUser;return Object(r.jsx)(X,{children:Object(r.jsx)(Y,{children:Object(r.jsxs)(Z,{onSubmit:function(n){l(""),n.preventDefault(),function(n,t){return fetch("".concat(L,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))}(e,d).then((function(n){if(0===n.ok)return l(n.message);p(n.token),$().then((function(t){if(1!==t.ok)return p(null),void l(n.message);O(t.data),window.history.back(-1)}))}))},children:[Object(r.jsx)(nn,{children:"\u767b\u5165"}),Object(r.jsx)(un,{username:e,setUsername:i}),Object(r.jsx)(dn,{password:d,setPassword:s}),f?Object(r.jsx)(on,{children:f}):Object(r.jsx)(an,{}),Object(r.jsx)(cn,{type:"submit"})]})})})}function bn(){var n=Object(u.a)(["\n  font-size: 14px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n"]);return bn=function(){return n},n}function jn(){var n=Object(u.a)(["\n  padding: 36px 12px 0;\n"]);return jn=function(){return n},n}function xn(){var n=Object(u.a)(["\n  width: 108px;\n  position: fixed;\n  left: 0;\n  top: 72px;\n  bottom: 0;\n"]);return xn=function(){return n},n}var fn=d.a.div(xn()),pn=d.a.div(jn()),ln=Object(d.a)(s.b)(bn()),On=function(){return Object(r.jsx)(fn,{children:Object(r.jsx)(pn,{children:Object(r.jsx)(ln,{to:"#",children:"\u6211\u662f\u9084\u6c92\u505a\u597d\u7684\u5206\u985e\u529f\u80fd"})})})};function hn(){var n=Object(u.a)(["\n  width: 22px;\n  height: 22px;\n"]);return hn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  padding-top: 12px;\n  font-size: 16px;\n  text-align: center;\n"]);return vn=function(){return n},n}function gn(){var n=Object(u.a)(["\n  font-size: 16px;\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n  ","\n"]);return gn=function(){return n},n}function mn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return mn=function(){return n},n}function wn(){var n=Object(u.a)(["\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n"]);return wn=function(){return n},n}function yn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return yn=function(){return n},n}function zn(){var n=Object(u.a)(["\n  padding-top: 24px;\n"]);return zn=function(){return n},n}var kn=d.a.div(zn()),Cn=d.a.div(yn()),Sn=d.a.button(wn()),Pn=d.a.div(mn()),Un=d.a.button(gn(),(function(n){return n.$active&&"\n    font-size: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  "})),Dn=d.a.div(vn()),Nn=d.a.div(hn()),Jn=function(n){var t=n.onClick,e=n.children;return Object(r.jsx)(Sn,{type:"button",onClick:t,children:e})},Tn=function(n){var t=n.currentPage,e=n.setCurrentPage,c=n.pagination,i=n.onChange;return Object(r.jsx)(Pn,{children:c.map((function(n){return Object(r.jsx)(Un,{$active:t===n,onClick:function(){e(n),i(n)},children:n})}))})},An=function(n){var t=n.totalPage,e=n.defaultCurrentPage,i=n.pagination,o=n.onChange,u=Object(c.useState)(e),d=Object(a.a)(u,2),s=d[0],b=d[1];return Object(r.jsxs)(kn,{children:[Object(r.jsxs)(Cn,{children:[s>2?Object(r.jsx)(Jn,{onClick:function(){s<3||(b(1),o(1))},children:"<<"}):Object(r.jsx)(Nn,{}),1!==s?Object(r.jsx)(Jn,{onClick:function(){s<2||(b(s-1),o(s-1))},children:"<"}):Object(r.jsx)(Nn,{}),Object(r.jsx)(Tn,{currentPage:s,setCurrentPage:b,pagination:i,onChange:o}),s!==t?Object(r.jsx)(Jn,{onClick:function(){s>=t||(b(s+1),o(s+1))},children:">"}):Object(r.jsx)(Nn,{}),s<t-1?Object(r.jsx)(Jn,{onClick:function(){b(t),o(t)},children:">>"}):Object(r.jsx)(Nn,{})]}),Object(r.jsxs)(Dn,{children:["\u5171 ",t," \u9801"]})]})};function Bn(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 14px;\n  font-weight: bold;\n  padding-top: 12px;\n  cursor: pointer;\n"]);return Bn=function(){return n},n}function En(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 14px;\n  max-height: 100px;\n  overflow: hidden;\n"]);return En=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 24px;\n  font-weight: bold;\n  padding-bottom: 12px;\n"]);return Fn=function(){return n},n}function In(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return In=function(){return n},n}function Ln(){var n=Object(u.a)(["\n  width: 100%;\n  padding-bottom: 32px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  & + & {\n    padding-top: 24px;\n  }\n"]);return Ln=function(){return n},n}function $n(){var n=Object(u.a)([""]);return $n=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  width: 680px;\n  padding: 20px 20px 20px 108px;\n"]);return Mn=function(){return n},n}var _n=d.a.div(Mn()),Rn=d.a.div($n()),qn=d.a.div(Ln()),Gn=d.a.div(In()),Hn=d.a.div(Fn()),Kn=d.a.div(En()),Qn=Object(d.a)(s.b)(Bn());function Vn(){var n=Object(c.useState)([]),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)([]),u=Object(a.a)(o,2),d=u[0],s=u[1],b=Object(c.useState)(),j=Object(a.a)(b,2),x=j[0],f=j[1],p=Object(c.useState)([]),l=Object(a.a)(p,2),O=l[0],h=l[1];return Object(c.useEffect)((function(){fetch("".concat(L,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){i(n),s(n.slice(0,5)),f(Math.ceil(n.length/5)),h(Array.from({length:x}).map((function(n,t){return t+1})))}))}),[x]),Object(r.jsxs)(_n,{children:[Object(r.jsx)(On,{}),Object(r.jsxs)(Rn,{children:[d.map((function(n){return Object(r.jsxs)(qn,{children:[Object(r.jsx)(Gn,{children:new Date(n.createdAt).toLocaleDateString()}),Object(r.jsx)(Hn,{children:n.title}),Object(r.jsx)(Kn,{children:n.body}),n.body.length>100&&Object(r.jsx)(Qn,{to:"posts/".concat(n.id),children:"Read More"})]},n.id)})),Object(r.jsx)(An,{totalPage:x,defaultCurrentPage:1,pagination:O,onChange:function(n){var t=e.slice(5*(n-1),5*n);s(t)}})]})]})}function Wn(){var n=Object(u.a)(["\n  width: 200px;\n  height: 200px;\n  background-color: black;\n  padding: 16px;\n"]);return Wn=function(){return n},n}function Xn(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return Xn=function(){return n},n}function Yn(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 28px;\n  font-weight: bold;\n  padding-bottom: 24px;\n"]);return Yn=function(){return n},n}function Zn(){var n=Object(u.a)(["\n  width: 400px;\n  padding: 16px 0;\n  margin: 0 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return Zn=function(){return n},n}function nt(){var n=Object(u.a)(["\n  display: flex;\n  width: 600px;\n  height: 233px;\n"]);return nt=function(){return n},n}function tt(){var n=Object(u.a)(["\n  margin-top: 64px;\n"]);return tt=function(){return n},n}var et=d.a.div(tt()),rt=d.a.div(nt()),ct=d.a.div(Zn()),it=d.a.div(Yn()),ot=d.a.div(Xn()),at=d.a.div(Wn());function ut(){return Object(r.jsx)(et,{children:Object(r.jsxs)(rt,{children:[Object(r.jsxs)(ct,{children:[Object(r.jsx)(it,{children:"\u58f9\u7396\u634c"}),Object(r.jsx)(ot,{children:"\u4e00\u500b\u7d93\u6fdf\u7cfb\u7562\u696d\u537b\u4e0d\u559c\u6b61\u7d93\u6fdf\u76f8\u95dc\u5de5\u4f5c\uff0c\u5de5\u4f5c\u4e86\u4e00\u5c0f\u9663\u5b50\u767c\u73fe\u4e0d\u80fd\u6c92\u6709\u786c\u5be6\u529b\uff0c\u6240\u4ee5\u958b\u59cb\u5b78\u7fd2\u6210\u70ba\u7db2\u9801\u524d\u7aef\u5de5\u7a0b\u5e2b\uff01\u5e0c\u671b\u672a\u4f86\u53ef\u4ee5\u5e36\u8457\u81ea\u5df1\u7684\u5c08\u696d\u5230\u4e16\u754c\u5404\u5730\u5de5\u4f5c\u770b\u770b\uff01"})]}),Object(r.jsx)(at,{})]})})}function dt(){var n=Object(u.a)(["\n  padding-top: 12px;\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return dt=function(){return n},n}function st(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return st=function(){return n},n}function bt(){var n=Object(u.a)(["\n  font-size: 36px;\n  font-weight: bold;\n"]);return bt=function(){return n},n}function jt(){var n=Object(u.a)(["\n  padding: 24px;\n"]);return jt=function(){return n},n}var xt=d.a.div(jt()),ft=d.a.div(bt()),pt=d.a.div(st()),lt=d.a.div(dt());function Ot(){var n=Object(c.useState)([]),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(b.h)().id;Object(c.useEffect)((function(){(function(n){return fetch("".concat(L,"/posts/").concat(n)).then((function(n){return n.json()}))})(o).then((function(n){return i(n)}))}),[o]);var u=new Date(e.createdAt);return Object(r.jsxs)(xt,{children:[Object(r.jsx)(ft,{children:e.title}),Object(r.jsx)(pt,{children:u.toLocaleDateString()}),Object(r.jsx)(lt,{children:e.body})]})}function ht(){var n=Object(u.a)(["\n  height: 22px;\n"]);return ht=function(){return n},n}function vt(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return vt=function(){return n},n}function gt(){var n=Object(u.a)(["\n  width: 420px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  margin-top: 10px;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return gt=function(){return n},n}function mt(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 400px;\n  height: 400px;\n  border: 1px solid #adadad;\n  padding: 10px 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return mt=function(){return n},n}function wt(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 400px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return wt=function(){return n},n}function yt(){var n=Object(u.a)(["\n  padding: 15px 0;\n"]);return yt=function(){return n},n}function zt(){var n=Object(u.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return zt=function(){return n},n}function kt(){var n=Object(u.a)([""]);return kt=function(){return n},n}function Ct(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 28px;\n"]);return Ct=function(){return n},n}function St(){var n=Object(u.a)(["\n  width: 500px;\n  height: 740px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return St=function(){return n},n}function Pt(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return Pt=function(){return n},n}var Ut=d.a.div(Pt()),Dt=d.a.div(St()),Nt=d.a.div(Ct()),Jt=d.a.form(kt()),Tt=d.a.div(zt()),At=d.a.div(yt()),Bt=d.a.input(wt()),Et=d.a.textarea(mt()),Ft=d.a.input(gt()),It=d.a.div(vt()),Lt=d.a.div(ht()),$t=function(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),d=u[0],s=u[1],x=Object(c.useState)(""),p=Object(a.a)(x,2),l=p[0],O=p[1],h=Object(b.f)();if(!Object(c.useContext)(j).user)return h.push("/");return Object(r.jsx)(Ut,{children:Object(r.jsxs)(Dt,{children:[Object(r.jsx)(Nt,{children:"\u65b0\u589e\u6587\u7ae0"}),Object(r.jsxs)(Jt,{onSubmit:function(n){if(n.preventDefault(),!e||!d)return O("\u8acb\u8f38\u5165\u6a19\u984c\u53ca\u5167\u5bb9\uff01");(function(n,t){var e=f();return fetch("".concat(L,"/posts"),{method:"POST",body:JSON.stringify({title:n,body:t}),headers:{"content-type":"application/json",authorization:"".concat(e)}}).then((function(n){return n.json()}))})(e,d).then((function(n){console.log(n),h.push("/")}))},children:[Object(r.jsxs)(At,{children:[Object(r.jsx)(Tt,{children:"\u6587\u7ae0\u6a19\u984c\uff1a"}),Object(r.jsx)(Bt,{type:"text",value:e,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsxs)(At,{children:[Object(r.jsx)(Tt,{children:"\u6587\u7ae0\u5167\u5bb9\uff1a"}),Object(r.jsx)(Et,{value:d,onChange:function(n){return s(n.target.value)}})]}),l?Object(r.jsx)(It,{children:l}):Object(r.jsx)(Lt,{}),Object(r.jsx)(Ft,{type:"submit"})]})]})})};function Mt(){var n=Object(u.a)(["\n  height: 22px;\n"]);return Mt=function(){return n},n}function _t(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return _t=function(){return n},n}function Rt(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return Rt=function(){return n},n}function qt(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return qt=function(){return n},n}function Gt(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return Gt=function(){return n},n}function Ht(){var n=Object(u.a)(["\n  margin: 20px auto;\n"]);return Ht=function(){return n},n}function Kt(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return Kt=function(){return n},n}function Qt(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return Qt=function(){return n},n}function Vt(){var n=Object(u.a)(["\n  width: 400px;\n  height: 420px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return Vt=function(){return n},n}function Wt(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return Wt=function(){return n},n}var Xt=d.a.div(Wt()),Yt=d.a.div(Vt()),Zt=d.a.form(Qt()),ne=d.a.div(Kt()),te=d.a.div(Ht()),ee=d.a.div(Gt()),re=d.a.input(qt()),ce=d.a.input(Rt()),ie=d.a.div(_t()),oe=d.a.div(Mt()),ae=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:"Username: "}),Object(r.jsx)(re,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},ue=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:"Password: "}),Object(r.jsx)(re,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})},de=function(n){var t=n.nickname,e=n.setNickname;return Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:"Nickname: "}),Object(r.jsx)(re,{type:"text",placeholder:"\u8acb\u8f38\u5165\u66b1\u7a31",value:t,onChange:function(n){return e(n.target.value)}})]})};function se(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),d=u[0],s=u[1],b=Object(c.useState)(""),x=Object(a.a)(b,2),f=x[0],l=x[1],O=Object(c.useState)(""),h=Object(a.a)(O,2),v=h[0],g=h[1],m=Object(c.useContext)(j).setUser;return Object(r.jsx)(Xt,{children:Object(r.jsx)(Yt,{children:Object(r.jsxs)(Zt,{onSubmit:function(n){if(n.preventDefault(),g(""),!e||!d||!f)return g("\u8acb\u8f38\u5165\u6240\u6709\u6b04\u4f4d");(function(n,t,e){return fetch("".concat(L,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:e,username:n,password:t})}).then((function(n){return n.json()}))})(e,d,f).then((function(n){console.log(n),p(n.token),$().then((function(t){if(1!==t.ok)return p(null),void g(n.message);m(t.data),window.history.back(-1)}))}))},children:[Object(r.jsx)(ne,{children:"\u8a3b\u518a"}),Object(r.jsx)(ae,{username:e,setUsername:i}),Object(r.jsx)(ue,{password:d,setPassword:s}),Object(r.jsx)(de,{nickname:f,setNickname:l}),v?Object(r.jsx)(ie,{children:v}):Object(r.jsx)(oe,{}),Object(r.jsx)(ce,{type:"submit"})]})})})}function be(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return be=function(){return n},n}function je(){var n=Object(u.a)(["\n  padding: 72px 0 0;\n"]);return je=function(){return n},n}var xe=d.a.div(je()),fe=d.a.div(be());var pe=function(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1];return Object(c.useEffect)((function(){$().then((function(n){n.ok&&i(n.data)}),[])})),Object(r.jsx)(j.Provider,{value:{user:e,setUser:i},children:Object(r.jsx)(xe,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(I,{}),Object(r.jsx)(fe,{children:Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{path:"/about",children:Object(r.jsx)(ut,{})}),Object(r.jsx)(b.a,{path:"/login",children:Object(r.jsx)(sn,{})}),Object(r.jsx)(b.a,{path:"/register",children:Object(r.jsx)(se,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/",children:Object(r.jsx)(Vn,{})}),Object(r.jsx)(b.a,{path:"/posts/:id",children:Object(r.jsx)(Ot,{})}),Object(r.jsx)(b.a,{path:"/new-post",children:Object(r.jsx)($t,{})})]})})]})})})},le=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,36)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))};o.a.render(Object(r.jsx)(pe,{}),document.getElementById("root")),le()}},[[35,1,2]]]);
//# sourceMappingURL=main.60807d37.chunk.js.map