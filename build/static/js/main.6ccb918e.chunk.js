(this.webpackJsonphw1=this.webpackJsonphw1||[]).push([[0],{441:function(n,t,e){"use strict";e.r(t);var r=e(3),c=e(2),i=e(48),o=e.n(i),a=e(7),u=e(4),s=e(5),d=e(17),b=e(12),j=Object(c.createContext)(null),f="token",x=function(n){return localStorage.setItem(f,n)};function p(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n"]);return p=function(){return n},n}function l(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n"]);return l=function(){return n},n}function O(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return O=function(){return n},n}function h(){var n=Object(u.a)(["\n  font-size: 16px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  & + & {\n    padding-left: 24px;\n  }\n  ","\n"]);return h=function(){return n},n}function v(){var n=Object(u.a)(["\n  display: flex;\n  padding: 25px 20px;\n"]);return v=function(){return n},n}function g(){var n=Object(u.a)(["\n  font-size: 8px;\n  color: #9d9d9d;\n  & + & {\n    padding-left: 4px;\n  }\n"]);return g=function(){return n},n}function m(){var n=Object(u.a)(["\n  display: flex;\n"]);return m=function(){return n},n}function w(){var n=Object(u.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 28px;\n  font-weight: bold;\n  color: #6c6c6c;\n"]);return w=function(){return n},n}function y(){var n=Object(u.a)(["\n  margin: 6px 20px;\n"]);return y=function(){return n},n}function z(){var n=Object(u.a)(["\n  display: flex;\n"]);return z=function(){return n},n}function C(){var n=Object(u.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 72px;\n  text-align: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return C=function(){return n},n}var k=s.a.div(C()),S=s.a.div(z()),P=s.a.div(y()),D=Object(s.a)(d.b)(w()),A=s.a.div(m()),L=s.a.div(g()),I=s.a.div(v()),U=Object(s.a)(d.b)(h(),(function(n){return n.$active&&"font-weight: bold;"})),E=s.a.div(O()),B=Object(s.a)(d.b)(l()),N=s.a.div(p()),F=function(){var n=Object(c.useContext)(j),t=n.user,e=n.setUser,i=Object(b.g)(),o=Object(b.f)();return Object(r.jsxs)(k,{children:[Object(r.jsxs)(S,{children:[Object(r.jsxs)(P,{children:[Object(r.jsx)(D,{to:"/",children:"\u58f9\u7396\u634c's Blog"}),Object(r.jsxs)(A,{children:[Object(r.jsx)(L,{children:"#\u5de5\u7a0b\u5e2b"}),Object(r.jsx)(L,{children:"#\u96a8\u610f\u804a"})]})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(U,{to:"/about",children:"\u95dc\u65bc\u6211"}),t&&Object(r.jsx)(U,{to:"/new-post",children:"\u65b0\u589e\u6587\u7ae0"})]})]}),Object(r.jsxs)(E,{children:[!t&&Object(r.jsx)(B,{to:"/login",children:"\u767b\u5165"}),t&&Object(r.jsx)(N,{onClick:function(){x(null),e(null),"/"!==i.pathname&&o.push("/")},children:"\u767b\u51fa"})]})]})},G=e(72),T=e(70);e(122);T.a.initializeApp({apiKey:"AIzaSyCCDNYPR00cGC3tBGq11Xrr4920vdgXAGc",authDomain:"simon198-blog.firebaseapp.com",projectId:"simon198-blog",storageBucket:"simon198-blog.appspot.com",messagingSenderId:"9042449024",appId:"1:9042449024:web:b8fd1802ab355e47b30c65",measurementId:"G-B61GH5ZNVL"});var J=T.a.database(),$="https://student-json-api.lidemy.me",H=function(){return G.a.auth().currentUser};function W(){var n=Object(u.a)(["\n  height: 22px;\n"]);return W=function(){return n},n}function X(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return X=function(){return n},n}function q(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  margin-top: 20px;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return q=function(){return n},n}function K(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return K=function(){return n},n}function M(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return M=function(){return n},n}function R(){var n=Object(u.a)(["\n  margin: 20px auto;\n  & + & {\n    margin: 0 auto;\n  }\n"]);return R=function(){return n},n}function V(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return V=function(){return n},n}function Y(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(u.a)(["\n  width: 400px;\n  height: 320px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return Z=function(){return n},n}function _(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return _=function(){return n},n}var Q=s.a.div(_()),nn=s.a.div(Z()),tn=s.a.form(Y()),en=s.a.div(V()),rn=s.a.div(R()),cn=s.a.div(M()),on=s.a.input(K()),an=s.a.input(q()),un=s.a.div(X()),sn=s.a.div(W()),dn=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(rn,{children:[Object(r.jsx)(cn,{children:"Username: "}),Object(r.jsx)(on,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},bn=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(rn,{children:[Object(r.jsx)(cn,{children:"Password: "}),Object(r.jsx)(on,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})};function jn(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],l=x[1],O=Object(b.f)(),h=Object(c.useContext)(j).setUser;return Object(r.jsx)(Q,{children:Object(r.jsx)(nn,{children:Object(r.jsxs)(tn,{onSubmit:function(n){l(""),n.preventDefault(),function(n,t){return G.a.auth().signInWithEmailAndPassword(n,t).catch((function(n){console.log(n.message)}))}(e,s).then((function(n){if(!n.user)return l("fail to login");var t=H();return t?(h(t),O.push("/")):void 0}))},children:[Object(r.jsx)(en,{children:"\u767b\u5165"}),Object(r.jsx)(dn,{username:e,setUsername:i}),Object(r.jsx)(bn,{password:s,setPassword:d}),p?Object(r.jsx)(un,{children:p}):Object(r.jsx)(sn,{}),Object(r.jsx)(an,{type:"submit"})]})})})}var fn=e(445),xn=e(444),pn=e(106),ln=e.n(pn),On=function(n){var t=n.language,e=n.value;return Object(r.jsx)(fn.a,{language:t,style:xn.a,showLineNumbers:!0,customStyle:{maxWidth:"80vw"},children:e||""})},hn=function(n){var t=n.source;return Object(r.jsx)(ln.a,{source:t,renderers:{code:On},linkTarget:"_blank"})},vn=e(15),gn=e(36),mn=Object(gn.b)({name:"posts",initialState:{isLoading:!1,posts:null,postOnPage:null},reducers:{setIsLoading:function(n,t){n.isLoading=t.payload},setPosts:function(n,t){n.posts=t.payload},setPostOnPage:function(n,t){n.postOnPage=t.payload}}}),wn=mn.actions,yn=wn.setIsLoading,zn=wn.setPosts,Cn=wn.setPostOnPage,kn=function(n){return function(t){t(yn(!0)),function(n){return J.ref("/posts/".concat(n)).once("value").then((function(n){return n.val()}))}(n).then((function(n){t(Cn(n)),t(yn(!1))}))}},Sn=function(){return function(n){n(yn(!0)),J.ref("/posts").once("value").then((function(n){return n.val()})).then((function(t){var e=[];Object.keys(t).forEach((function(n){e.unshift({id:n,title:t[n].title,content:t[n].content,createdAt:t[n].createdAt})})),n(zn(e)),n(yn(!1))}))}},Pn=function(n,t){return function(e){e(yn(!0)),function(n,t){return J.ref("/posts").push({title:n,content:t,createdAt:Date.now(),updatedAt:Date.now()}).then((function(n){return"success"})).catch((function(n){console.log(n)}))}(n,t).then((function(n){if("success"===n)return e(yn(!1))}))}},Dn=function(n,t,e){return function(r){r(yn(!0)),function(n,t,e){return J.ref("/posts/".concat(n)).update({title:t,content:e,updatedAt:Date.now()}).then((function(n){return"success"})).catch((function(n){console.log(n)}))}(n,t,e).then((function(n){if("success"===n)return r(yn(!1))}))}},An=function(n){return n.posts.posts},Ln=function(n){return n.posts.isLoading},In=function(n){return n.posts.postOnPage},Un=mn.reducer;function En(){var n=Object(u.a)(["\n  font-size: 14px;\n  color: #6c6c6c;\n  cursor: pointer;\n  text-decoration: none;\n  display: block;\n  & + & {\n    padding-top: 18px;\n  }\n"]);return En=function(){return n},n}function Bn(){var n=Object(u.a)([""]);return Bn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  padding-bottom: 12px;\n"]);return Nn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  background-color: #eceff1;\n  width: 300px;\n  position: fixed;\n  left: 0;\n  top: 72px;\n  bottom: 0;\n  padding: 36px 12px 0;\n"]);return Fn=function(){return n},n}var Gn=s.a.div(Fn()),Tn=s.a.div(Nn()),Jn=s.a.div(Bn()),$n=Object(s.a)(d.b)(En()),Hn=function(){var n=Object(vn.c)(An);return Object(r.jsxs)(Gn,{children:[Object(r.jsx)(Tn,{children:"\u6587\u7ae0\u5217\u8868"}),Object(r.jsx)(Jn,{children:n&&n.map((function(n,t){return Object(r.jsx)($n,{to:"/posts/".concat(n.id),children:n.title},t)}))})]})};function Wn(){var n=Object(u.a)(["\n  width: 22px;\n  height: 22px;\n"]);return Wn=function(){return n},n}function Xn(){var n=Object(u.a)(["\n  padding-top: 12px;\n  font-size: 16px;\n  text-align: center;\n"]);return Xn=function(){return n},n}function qn(){var n=Object(u.a)(["\n  font-size: 16px;\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n  ","\n"]);return qn=function(){return n},n}function Kn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Kn=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  background-color: #ffffff;\n  border: 0;\n  cursor: pointer;\n"]);return Mn=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Rn=function(){return n},n}function Vn(){var n=Object(u.a)(["\n  padding-top: 24px;\n"]);return Vn=function(){return n},n}var Yn=s.a.div(Vn()),Zn=s.a.div(Rn()),_n=s.a.button(Mn()),Qn=s.a.div(Kn()),nt=s.a.button(qn(),(function(n){return n.$active&&"\n    font-size: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  "})),tt=s.a.div(Xn()),et=s.a.div(Wn()),rt=function(n){var t=n.onClick,e=n.children;return Object(r.jsx)(_n,{type:"button",onClick:t,children:e})},ct=function(n){var t=n.currentPage,e=n.setCurrentPage,c=n.pagination,i=n.onChange;return Object(r.jsx)(Qn,{children:c.map((function(n){return Object(r.jsx)(nt,{$active:t===n,onClick:function(){e(n),i(n)},children:n})}))})},it=function(n){var t=n.totalPage,e=n.defaultCurrentPage,i=n.pagination,o=n.onChange,u=Object(c.useState)(e),s=Object(a.a)(u,2),d=s[0],b=s[1];return Object(r.jsxs)(Yn,{children:[Object(r.jsxs)(Zn,{children:[d>2?Object(r.jsx)(rt,{onClick:function(){d<3||(b(1),o(1))},children:"<<"}):Object(r.jsx)(et,{}),1!==d?Object(r.jsx)(rt,{onClick:function(){d<2||(b(d-1),o(d-1))},children:"<"}):Object(r.jsx)(et,{}),Object(r.jsx)(ct,{currentPage:d,setCurrentPage:b,pagination:i,onChange:o}),d!==t?Object(r.jsx)(rt,{onClick:function(){d>=t||(b(d+1),o(d+1))},children:">"}):Object(r.jsx)(et,{}),d<t-1?Object(r.jsx)(rt,{onClick:function(){b(t),o(t)},children:">>"}):Object(r.jsx)(et,{})]}),Object(r.jsxs)(tt,{children:["\u5171 ",t," \u9801"]})]})};function ot(){var n=Object(u.a)(["\n  font-size: 14px;\n  max-height: 100px;\n  overflow: hidden;\n"]);return ot=function(){return n},n}function at(){var n=Object(u.a)(["\n  cursor: pointer;\n  text-decoration: none;\n  color: #000000;\n  font-size: 32px;\n  font-weight: bold;\n  padding-bottom: 12px;\n"]);return at=function(){return n},n}function ut(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return ut=function(){return n},n}function st(){var n=Object(u.a)(["\n  width: 100%;\n  padding-bottom: 32px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  & + & {\n    padding: 64px 0;\n  }\n"]);return st=function(){return n},n}function dt(){var n=Object(u.a)(["\n  min-height: 75vh;\n"]);return dt=function(){return n},n}function bt(){var n=Object(u.a)([""]);return bt=function(){return n},n}function jt(){var n=Object(u.a)(["\n  width: 680px;\n  padding: 20px 20px 20px 108px;\n"]);return jt=function(){return n},n}var ft=s.a.div(jt()),xt=s.a.div(bt()),pt=s.a.div(dt()),lt=s.a.div(st()),Ot=s.a.div(ut()),ht=Object(s.a)(d.b)(at()),vt=Object(s.a)(hn)(ot());function gt(){var n=Object(vn.b)(),t=Object(vn.c)(An),e=Object(c.useState)([]),i=Object(a.a)(e,2),o=i[0],u=i[1],s=Object(c.useState)(),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)([]),x=Object(a.a)(f,2),p=x[0],l=x[1];return Object(c.useEffect)((function(){n(Sn()),t&&(u(t.slice(0,5)),j(Math.ceil(t.length/5)),l(Array.from({length:b}).map((function(n,t){return t+1}))),n(yn(!1)))}),[b,n,t]),Object(r.jsxs)(ft,{children:[Object(r.jsx)(Hn,{}),Object(r.jsxs)(xt,{children:[Object(r.jsx)(pt,{children:o.map((function(n){return Object(r.jsxs)(lt,{children:[Object(r.jsx)(Ot,{children:new Date(n.createdAt).toLocaleDateString()}),Object(r.jsx)(ht,{to:"/posts/".concat(n.id),children:n.title}),Object(r.jsx)(vt,{source:n.content})]},n.id)}))}),Object(r.jsx)(it,{totalPage:b,defaultCurrentPage:1,pagination:p,onChange:function(n){var e=t.slice(5*(n-1),5*n);u(e)}})]})]})}function mt(){var n=Object(u.a)(["\n  width: 500px;\n  height: 400px;\n  padding: 16px;\n  object-fit: contain;\n"]);return mt=function(){return n},n}function wt(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return wt=function(){return n},n}function yt(){var n=Object(u.a)(["\n  color: #5b5b5b;\n  font-size: 28px;\n  font-weight: bold;\n  padding-bottom: 24px;\n"]);return yt=function(){return n},n}function zt(){var n=Object(u.a)(["\n  width: 400px;\n  padding: 16px 0;\n  margin: 0 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return zt=function(){return n},n}function Ct(){var n=Object(u.a)(["\n  display: flex;\n  width: 800px;\n  height: 233px;\n"]);return Ct=function(){return n},n}function kt(){var n=Object(u.a)(["\n  margin-top: 64px;\n"]);return kt=function(){return n},n}var St=s.a.div(kt()),Pt=s.a.div(Ct()),Dt=s.a.div(zt()),At=s.a.div(yt()),Lt=s.a.div(wt()),It=s.a.img(mt());function Ut(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1];return Object(c.useEffect)((function(){J.ref("/about").once("value").then((function(n){return n.val()})).then((function(n){return i(n)}))})),Object(r.jsx)(St,{children:e&&Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(Dt,{children:[Object(r.jsx)(At,{children:e.name}),Object(r.jsx)(Lt,{children:e.content})]}),Object(r.jsx)(It,{src:e.avatar})]})})}function Et(){var n=Object(u.a)(["\n  padding-top: 12px;\n  color: #5b5b5b;\n  font-size: 16px;\n"]);return Et=function(){return n},n}function Bt(){var n=Object(u.a)(["\n  position: absolute;\n  width: 60px;\n  height: 28px;\n  font-size: 18px;\n  background-color: #0080ff;\n  color: #e0e0e0;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  top: 10px;\n  right: 12px;\n  border-radius: 4px;\n  text-decoration: none;\n  text-align: center;\n"]);return Bt=function(){return n},n}function Nt(){var n=Object(u.a)(["\n  color: #9d9d9d;\n  font-size: 12px;\n  font-style: italic;\n"]);return Nt=function(){return n},n}function Ft(){var n=Object(u.a)(["\n  font-size: 36px;\n  font-weight: bold;\n  position: relative;\n"]);return Ft=function(){return n},n}function Gt(){var n=Object(u.a)(["\n  padding: 24px 200px;\n"]);return Gt=function(){return n},n}var Tt=s.a.div(Gt()),Jt=s.a.div(Ft()),$t=s.a.div(Nt()),Ht=Object(s.a)(d.b)(Bt()),Wt=Object(s.a)(hn)(Et());function Xt(){var n=Object(vn.b)(),t=Object(vn.c)(In),e=Object(c.useContext)(j).user,i=Object(b.h)().id;return Object(c.useEffect)((function(){n(kn(i))}),[i,n]),Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsxs)(Tt,{children:[Object(r.jsx)(Jt,{children:t.title}),Object(r.jsx)($t,{children:new Date(t.createdAt).toLocaleDateString()}),e&&Object(r.jsx)(Ht,{to:"/update-post/".concat(i),children:"\u7de8\u8f2f"}),Object(r.jsx)(Wt,{source:t.content})]})})}function qt(){var n=Object(u.a)(["\n  width: 100%;\n  overflow-y: visible;\n  resize: none;\n  height: 100%;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 10px 10px 0;\n"]);return qt=function(){return n},n}var Kt=s.a.textarea(qt());function Mt(n){var t=n.placeholder,e=n.content,i=n.setContent,o=Object(c.useState)(100),u=Object(a.a)(o,2),s=u[0],d=u[1];return Object(r.jsx)(Kt,{value:e,rows:s,placeholder:t,onChange:function(n){var t=n.target.rows;n.target.rows=5;var e=~~(n.target.scrollHeight/24);e===t&&(n.target.rows=e),i(n.target.value),d(e)}})}function Rt(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n"]);return Rt=function(){return n},n}function Vt(){var n=Object(u.a)(["\n  padding: 12px;\n"]);return Vt=function(){return n},n}function Yt(){var n=Object(u.a)(["\n  position: relative;\n"]);return Yt=function(){return n},n}function Zt(){var n=Object(u.a)(["\n  width: 50vw;\n"]);return Zt=function(){return n},n}function _t(){var n=Object(u.a)(["\n  height: 22px;\n"]);return _t=function(){return n},n}function Qt(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return Qt=function(){return n},n}function ne(){var n=Object(u.a)(["\n  position: absolute;\n  width: 60px;\n  height: 28px;\n  font-size: 18px;\n  background-color: #0080ff;\n  color: #e0e0e0;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  top: 10px;\n  right: 12px;\n  border-radius: 4px;\n"]);return ne=function(){return n},n}function te(){var n=Object(u.a)(["\n  width: 100%;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 32px;\n  height: 40px;\n  padding: 0 10px;\n"]);return te=function(){return n},n}function ee(){var n=Object(u.a)(["\n  padding: 15px 0;\n  height: 100%;\n"]);return ee=function(){return n},n}function re(){var n=Object(u.a)(["\n  width: 50vw;\n  height: 100%;\n  min-height: 200vh;\n  border: 0;\n  background-color: #272727;\n  color: #e0e0e0;\n"]);return re=function(){return n},n}function ce(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 28px;\n"]);return ce=function(){return n},n}function ie(){var n=Object(u.a)(["\n  display: flex;\n"]);return ie=function(){return n},n}function oe(){var n=Object(u.a)([""]);return oe=function(){return n},n}var ae=s.a.div(oe()),ue=s.a.form(ie()),se=s.a.div(ce()),de=s.a.div(re()),be=s.a.div(ee()),je=s.a.input(te()),fe=s.a.input(ne()),xe=s.a.div(Qt()),pe=s.a.div(_t()),le=s.a.div(Zt()),Oe=s.a.div(Yt()),he=s.a.div(Vt()),ve=s.a.div(Rt()),ge=function(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],l=x[1],O=Object(vn.b)(),h=Object(b.f)();if(!Object(c.useContext)(j).user)return h.push("/");return Object(r.jsx)(ae,{children:Object(r.jsxs)(ue,{onSubmit:function(n){if(n.preventDefault(),!e)return l("\u8acb\u8f38\u5165\u6a19\u984c\uff01");O(Pn(e,s)),h.push("/")},children:[Object(r.jsxs)(de,{children:[Object(r.jsx)(se,{children:"\u65b0\u589e\u6587\u7ae0"}),Object(r.jsxs)(be,{children:[Object(r.jsx)(je,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u6a19\u984c",type:"text",value:e,onChange:function(n){return i(n.target.value)}}),Object(r.jsx)(Mt,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",content:s,setContent:d})]}),p?Object(r.jsx)(xe,{children:p}):Object(r.jsx)(pe,{})]}),Object(r.jsxs)(le,{children:[Object(r.jsxs)(Oe,{children:[Object(r.jsx)(se,{children:"\u6587\u7ae0\u9810\u89bd"}),Object(r.jsx)(fe,{type:"submit"})]}),Object(r.jsxs)(he,{children:[Object(r.jsx)(ve,{children:e}),Object(r.jsx)(hn,{source:s})]})]})]})})};function me(){var n=Object(u.a)(["\n  height: 22px;\n"]);return me=function(){return n},n}function we(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return we=function(){return n},n}function ye(){var n=Object(u.a)(["\n  width: 320px;\n  height: 24px;\n  background-color: white;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return ye=function(){return n},n}function ze(){var n=Object(u.a)(["\n  font-size: 16px;\n  width: 300px;\n  height: 32px;\n  border: 1px solid #adadad;\n  padding: 0 10px;\n  box-sizing: content-box;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.1);\n"]);return ze=function(){return n},n}function Ce(){var n=Object(u.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 5px;\n"]);return Ce=function(){return n},n}function ke(){var n=Object(u.a)(["\n  margin: 20px auto;\n"]);return ke=function(){return n},n}function Se(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n"]);return Se=function(){return n},n}function Pe(){var n=Object(u.a)(["\n  padding: 28px 32px;\n"]);return Pe=function(){return n},n}function De(){var n=Object(u.a)(["\n  width: 400px;\n  height: 420px;\n  border: 2px solid #adadad;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n"]);return De=function(){return n},n}function Ae(){var n=Object(u.a)(["\n  justify-content: center;\n  align-items: center;\n  padding-top: 64px;\n"]);return Ae=function(){return n},n}var Le=s.a.div(Ae()),Ie=s.a.div(De()),Ue=s.a.form(Pe()),Ee=s.a.div(Se()),Be=s.a.div(ke()),Ne=s.a.div(Ce()),Fe=s.a.input(ze()),Ge=s.a.input(ye()),Te=s.a.div(we()),Je=s.a.div(me()),$e=function(n){var t=n.username,e=n.setUsername;return Object(r.jsxs)(Be,{children:[Object(r.jsx)(Ne,{children:"Username: "}),Object(r.jsx)(Fe,{type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(n){return e(n.target.value)}})]})},He=function(n){var t=n.password,e=n.setPassword;return Object(r.jsxs)(Be,{children:[Object(r.jsx)(Ne,{children:"Password: "}),Object(r.jsx)(Fe,{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:t,onChange:function(n){return e(n.target.value)}})]})},We=function(n){var t=n.nickname,e=n.setNickname;return Object(r.jsxs)(Be,{children:[Object(r.jsx)(Ne,{children:"Nickname: "}),Object(r.jsx)(Fe,{type:"text",placeholder:"\u8acb\u8f38\u5165\u66b1\u7a31",value:t,onChange:function(n){return e(n.target.value)}})]})};function Xe(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],b=Object(c.useState)(""),f=Object(a.a)(b,2),p=f[0],l=f[1],O=Object(c.useState)(""),h=Object(a.a)(O,2),v=h[0],g=h[1],m=Object(c.useContext)(j).setUser;return Object(r.jsx)(Le,{children:Object(r.jsx)(Ie,{children:Object(r.jsxs)(Ue,{onSubmit:function(n){if(n.preventDefault(),g(""),!e||!s||!p)return g("\u8acb\u8f38\u5165\u6240\u6709\u6b04\u4f4d");(function(n,t,e){return fetch("".concat($,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:e,username:n,password:t})}).then((function(n){return n.json()}))})(e,s,p).then((function(n){console.log(n),x(n.token),H().then((function(t){if(1!==t.ok)return x(null),void g(n.message);m(t.data),window.history.back(-1)}))}))},children:[Object(r.jsx)(Ee,{children:"\u8a3b\u518a"}),Object(r.jsx)($e,{username:e,setUsername:i}),Object(r.jsx)(He,{password:s,setPassword:d}),Object(r.jsx)(We,{nickname:p,setNickname:l}),v?Object(r.jsx)(Te,{children:v}):Object(r.jsx)(Je,{}),Object(r.jsx)(Ge,{type:"submit"})]})})})}function qe(){var n=Object(u.a)(["\n  height: 100vh;\n"]);return qe=function(){return n},n}function Ke(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n"]);return Ke=function(){return n},n}function Me(){var n=Object(u.a)(["\n  padding: 12px;\n  height: 100vh;\n"]);return Me=function(){return n},n}function Re(){var n=Object(u.a)(["\n  position: relative;\n"]);return Re=function(){return n},n}function Ve(){var n=Object(u.a)(["\n  width: 50vw;\n"]);return Ve=function(){return n},n}function Ye(){var n=Object(u.a)(["\n  height: 22px;\n"]);return Ye=function(){return n},n}function Ze(){var n=Object(u.a)(["\n  color: #ff2d2d;\n"]);return Ze=function(){return n},n}function _e(){var n=Object(u.a)(["\n  position: absolute;\n  width: 60px;\n  height: 28px;\n  font-size: 18px;\n  background-color: #0080ff;\n  color: #e0e0e0;\n  border: 1px solid #adadad;\n  box-sizing: content-box;\n  padding: 0;\n  top: 10px;\n  right: 12px;\n  border-radius: 4px;\n"]);return _e=function(){return n},n}function Qe(){var n=Object(u.a)(["\n  width: 100%;\n  color: #e0e0e0;\n  background-color: #272727;\n  box-sizing: border-box;\n  font-size: 32px;\n  height: 40px;\n  padding: 0 10px;\n"]);return Qe=function(){return n},n}function nr(){var n=Object(u.a)(["\n  padding: 15px 0;\n  height: 100%;\n"]);return nr=function(){return n},n}function tr(){var n=Object(u.a)(["\n  width: 50vw;\n  min-height: 100vh;\n  height: 100%;\n  background-color: #272727;\n  color: #e0e0e0;\n"]);return tr=function(){return n},n}function er(){var n=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 28px;\n"]);return er=function(){return n},n}function rr(){var n=Object(u.a)(["\n  display: flex;\n"]);return rr=function(){return n},n}function cr(){var n=Object(u.a)([""]);return cr=function(){return n},n}var ir=s.a.div(cr()),or=s.a.form(rr()),ar=s.a.div(er()),ur=s.a.div(tr()),sr=s.a.div(nr()),dr=s.a.input(Qe()),br=s.a.input(_e()),jr=s.a.div(Ze()),fr=s.a.div(Ye()),xr=s.a.div(Ve()),pr=s.a.div(Re()),lr=s.a.div(Me()),Or=s.a.div(Ke()),hr=Object(s.a)(hn)(qe());function vr(){var n=Object(c.useState)(""),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),s=u[0],d=u[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],l=x[1],O=Object(vn.c)(In),h=Object(vn.b)(),v=Object(b.h)().id,g=Object(b.f)(),m=Object(c.useContext)(j).user;if(Object(c.useEffect)((function(){i(O.title),d(O.content)}),[h,v,O]),!m)return g.push("/");return Object(r.jsx)(ir,{children:Object(r.jsxs)(or,{onSubmit:function(n){if(n.preventDefault(),!e)return l("\u8acb\u8f38\u5165\u6a19\u984c\uff01");h(Dn(v,e,s)),h(kn(v)),g.push("/posts/".concat(v))},children:[Object(r.jsxs)(ur,{children:[Object(r.jsx)(ar,{children:"\u7de8\u8f2f\u6587\u7ae0"}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(dr,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u6a19\u984c",type:"text",value:e,onChange:function(n){return i(n.target.value)}}),Object(r.jsx)(Mt,{placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",content:s,setContent:d})]}),p?Object(r.jsx)(jr,{children:p}):Object(r.jsx)(fr,{})]}),Object(r.jsxs)(xr,{children:[Object(r.jsxs)(pr,{children:[Object(r.jsx)(ar,{children:"\u6587\u7ae0\u9810\u89bd"}),Object(r.jsx)(br,{type:"submit"})]}),Object(r.jsxs)(lr,{children:[Object(r.jsx)(Or,{children:e}),Object(r.jsx)(hr,{source:s})]})]})]})})}function gr(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #7b7b7b;\n  color: white;\n  font-size: 32px;\n  text-align: center;\n"]);return gr=function(){return n},n}function mr(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return mr=function(){return n},n}function wr(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 72px 0 0;\n"]);return wr=function(){return n},n}var yr=s.a.div(wr()),zr=s.a.div(mr()),Cr=s.a.div(gr());var kr=function(){var n=Object(vn.c)(Ln),t=Object(c.useState)(null),e=Object(a.a)(t,2),i=e[0],o=e[1];return Object(c.useEffect)((function(){o(H())}),[]),Object(r.jsx)(j.Provider,{value:{user:i,setUser:o},children:Object(r.jsx)(yr,{children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)(zr,{children:[n&&Object(r.jsx)(Cr,{children:"Loading..."}),Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{path:"/about",children:Object(r.jsx)(Ut,{})}),Object(r.jsx)(b.a,{path:"/login",children:Object(r.jsx)(jn,{})}),Object(r.jsx)(b.a,{path:"/register",children:Object(r.jsx)(Xe,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/",children:Object(r.jsx)(gt,{})}),Object(r.jsx)(b.a,{path:"/posts/:id",children:Object(r.jsx)(Xt,{})}),Object(r.jsx)(b.a,{path:"/new-post",children:Object(r.jsx)(ge,{})}),Object(r.jsx)(b.a,{path:"/update-post/:id",children:Object(r.jsx)(vr,{})})]})]})]})})})},Sr=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,446)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))},Pr=e(19),Dr=Object(gn.b)({name:"users",initialState:{value:0},reducers:{increment:function(n){n.value+=1}}}),Ar=Dr.actions,Lr=(Ar.increment,Ar.decrement,Ar.incrementByAmount,Dr.reducer),Ir=Object(Pr.c)({posts:Un,users:Lr}),Ur=Object(gn.a)({reducer:Ir});o.a.render(Object(r.jsx)(vn.a,{store:Ur,children:Object(r.jsx)(kr,{})}),document.getElementById("root")),Sr()}},[[441,1,2]]]);
//# sourceMappingURL=main.6ccb918e.chunk.js.map